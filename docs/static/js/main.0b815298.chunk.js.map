{"version":3,"sources":["../../src/utils/index.js","../../src/index.js","../../src/plugins/index.js","../../src/plugins/appannie.js","../../src/plugins/hypeauditor.js","../../src/utils/injectCss.js","../../src/utils/injectJs.js","../../src/utils/openTab.js","../../src/utils/addXMLRequestCallback.js","../../src/plugins/instagram.js","../../src/plugins/modash.js","../../src/plugins/youtube.js","../../src/plugins/toolbar/index.js","../../src/plugins/toolbar/ToolbarApp.jsx"],"names":["jses","csses","Bluebird","map","item","injectJs","injectCss","console","error","plugins","plugin","name","log","then","res","catch","err","main","getObjectValue","path","object","defaultValue","split","Array","isArray","length","key","slicedPath","slice","Object","hasOwnProperty","call","getShortMarketName","fullName","toast","text","type","window","siiimpleToast","fetch","setTimeout","location","reload","appannie","document","href","includes","status","__NEXT_DATA__","is404Page","body","innerText","startsWith","pageVal","productId","productTitle","pathname","method","mode","fullMarketName","app_id","String","market_name","companyId","companyName","obj_nav","company","id","shortMarketName","productUniversalProductId","product","market","universal_product_id","universalPoductId","universalPoductName","universalPoductIcon","universal_product","icon","publisher","appName","appIcon","_market","storeUrl","exec","marketId","url","URL","urlParams","URLSearchParams","search","get","meta_data","headers","Accept","JSON","stringify","statusText","success","alert","host","hypeauditor","addXMLRequestCallback","xhr","responseHeaders","getAllResponseHeaders","filter","str","forEach","header","value","payload","meta","request","requestHeaders","response","data","test","__lskjs","GM_xmlhttpRequest","node","getElementsByTagName","tag","createElement","setAttribute","appendChild","env","isDev","src","trace","Promise","resolve","reject","GM_addElement","script","onload","openTab","timeout","tab","open","close","callback","oldSend","oldSetRequestHeader","oldOpen","i","XMLHttpRequest","callbacks","push","prototype","send","setRequestHeader","this","apply","arguments","async","user","password","addEventListener","reqBody","sharedDataGetter","_sharedData","entry_data","ProfilePage","profilePage","graphql","username","instagram","responseText","getType","getRoute","profile","profileType","platform","modash","parse","route","profileData","unsafeWindow","getQueryParams","qpart","qparams","parts","qparts","decodeURIComponent","humanToNubmer","factor","K","M","B","млрд","млн","тыс","shortenArray","numberAsString","number","parseFloat","lastSymbol","trim","Math","round","median","values","sort","a","b","half","floor","BROWSE_URL","dateAllow","dateDisallow","table","youtube","element","result","resultText","resultCopy","excelData","lines","join","navigator","clipboard","writeText","style","zIndex","position","right","bottom","visibility","background","left","padding","borderRadius","maxWidth","transform","button2","button1","button4","onClick","count","innerHTML","links","pathName","isChannelHTML","querySelector","f","action","replace","pathAndId","channelResponse","match","json2","ytInitialResponse","metadata","channelMetadataRenderer","channelId","externalId","e","title","link","channelUrl","description","emailInDescription","email","tabs","aboutTab","country","rawLinks","originalUrl","q","subscribersText","subscribers","strIC","ytcfg","INNERTUBE_CONTEXT","videosViews","bodyParams","context","continuationToken","continuation","browseId","params","json","items","videoTab","stop","publishedText","viewCountText","dAllow","splice","some","it","Number","avgViews","bind","isC","isChannel","isUser","containsC","containsChannel","containsUser","runPanel","ReactDOM","render","React","ToolbarApp","Timer","props","state","seconds","setState","interval","setInterval","tick","clearInterval","Component","color","width","children","Container","Row","Col","md"],"mappings":"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","file":"static/js/main.0b815298.chunk.js","sourcesContent":["export * from './injectCss';\nexport * from './injectJs';\nexport * from './openTab';\nexport * from './addXMLRequestCallback';\n","/* eslint-disable no-console */\nimport asyncMapValues from '@lskjs/utils/asyncMapValues';\nimport ready from '@lskjs/utils/polyfill';\nimport Bluebird from 'bluebird';\n\nimport * as plugins from './plugins';\nimport { injectCss, injectJs } from './utils';\n\nready();\n\nconst jses = ['https://cdn.jsdelivr.net/npm/siiimple-toast/dist/siiimple-toast.min.js'];\nconst csses = [\n  'https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css',\n  'https://cdn.jsdelivr.net/npm/siiimple-toast/dist/style.css',\n];\n\nconst main = async () => {\n  try {\n    await Bluebird.map(jses, (item) => injectJs(item));\n    await Bluebird.map(csses, (item) => injectCss(item));\n  } catch (error) {\n    console.error(error);\n  }\n\n  await asyncMapValues(plugins, async (plugin, name) => {\n    console.log(`[${name}] starting`);\n    return plugin()\n      .then((res) => {\n        console.log(`[${name}] ok`, res);\n      })\n      .catch((err) => {\n        console.error(`[${name}] ok`, err);\n      });\n  });\n};\n\nmain();\n","export { default as appannie } from './appannie';\nexport { default as hypeauditor } from './hypeauditor';\nexport { default as instagram } from './instagram';\nexport { default as modash } from './modash';\nexport { default as youtube } from './youtube';\nexport { default as toolbar } from './toolbar';\n","/* global document window fetch */\n\n// @match        *://www.appannie.com/ru/apps/ios/app/*/details*\n// @match        *://www.appannie.com/ru/apps/google-play/app/*/details*\n// @match        *://www.appannie.com/ru/apps/*/app/*/details*\n// @match        *://www.appannie.com/apps/ios/app/*/details*\n// @match        *://www.appannie.com/apps/google-play/app/*/details*\n// @match        *://www.appannie.com/apps/*/app/*/details*\n\nexport function getObjectValue(path, object, defaultValue = null) {\n  if (typeof path === 'string') {\n    return getObjectValue(path.split(/\\./), object, defaultValue);\n  }\n\n  if (!Array.isArray(path) || path.length === 0) {\n    return defaultValue;\n  }\n\n  const [key] = path;\n  const slicedPath = path.slice(1);\n\n  if (!object || typeof object !== 'object' || !Object.hasOwnProperty.call(object, key)) {\n    return defaultValue;\n  }\n\n  if (slicedPath.length === 0) {\n    return object[key];\n  }\n  return getObjectValue(slicedPath, object[key], defaultValue);\n}\n\nexport function getShortMarketName(fullName) {\n  if (fullName === 'google-play') {\n    return 'gp';\n  }\n  return fullName;\n}\n\nexport function toast(text, { type = 'message' } = {}) {\n  console.log('[toast]', text);\n  if (!window.siiimpleToast) return;\n  window.siiimpleToast[type](text);\n  fetch('/i18n/activate/en/').then(() => {\n    setTimeout(() => {\n      window.location.reload();\n    }, 2000);\n  });\n}\n\nexport async function appannie() {\n  const location = document?.location?.href || '';\n  if (!location.includes('://www.appannie.com')) return { status: 'ignoreDomain' };\n  // const regexp = new RegExp('://www.appannie.com/.*apps/.+/app/.+/details');\n  // if (!regexp.test(location)) return { status: 'ignore' };\n\n  // console.log('[appannie] @');\n  const { __NEXT_DATA__ } = window;\n  const is404Page = document.body.innerText.startsWith('Oops! 404');\n  if (!is404Page && getObjectValue('props.pageProps.locale.language', __NEXT_DATA__) !== 'en-US') {\n    await toast('Язык страницы не английский, переключаем на английский');\n    return { status: 'changeLocale' };\n  }\n  const pageVal = {\n    location: window.location.href,\n  };\n  const productId = getObjectValue('props.pageProps.app.id', __NEXT_DATA__);\n  const productTitle = getObjectValue('props.pageProps.app.name', __NEXT_DATA__);\n  if (is404Page || !productId || (productTitle && productTitle === 'Unknown Product')) {\n    await fetch(`https://worker.buzz.guru/api/appannie/notFound?location=${document.location.pathname}`, {\n      method: 'POST',\n      mode: 'no-cors',\n    });\n    toast('Спаршено 404', { type: 'alert' });\n    console.log('Отрепорти эту ссылку в чатик');\n    return { status: '404' };\n  }\n\n  const fullMarketName = getObjectValue('props.pageProps.market', __NEXT_DATA__);\n\n  if (productId) {\n    pageVal.app_id = String(productId);\n  }\n\n  if (fullMarketName) {\n    pageVal.market_name = fullMarketName;\n  }\n\n  const companyId = getObjectValue('props.pageProps.company.id', __NEXT_DATA__);\n  const companyName = getObjectValue('props.pageProps.company.name', __NEXT_DATA__);\n\n  if (companyId || companyName) {\n    if (!pageVal.obj_nav) {\n      pageVal.obj_nav = {};\n    }\n    if (!pageVal.obj_nav.company) {\n      pageVal.obj_nav.company = {};\n      if (companyId) {\n        pageVal.obj_nav.company.id = String(companyId);\n      }\n      if (companyName) {\n        pageVal.obj_nav.company.name = companyName;\n      }\n    }\n  }\n\n  const shortMarketName = getShortMarketName(fullMarketName);\n  const productUniversalProductId = getObjectValue('props.pageProps.unifiedApp.id', __NEXT_DATA__);\n\n  if (productId || shortMarketName || productUniversalProductId) {\n    if (!pageVal.obj_nav) {\n      pageVal.obj_nav = {};\n    }\n    if (!pageVal.obj_nav.product) {\n      pageVal.obj_nav.product = {};\n      if (productId) {\n        pageVal.obj_nav.product.id = String(productId);\n      }\n      if (shortMarketName) {\n        pageVal.obj_nav.product.market = shortMarketName;\n      }\n      if (productUniversalProductId) {\n        pageVal.obj_nav.product.universal_product_id = String(productUniversalProductId);\n      }\n    }\n  }\n\n  const universalPoductId = getObjectValue('props.pageProps.unifiedApp.id', __NEXT_DATA__);\n  const universalPoductName = getObjectValue('props.pageProps.unifiedApp.name', __NEXT_DATA__);\n  const universalPoductIcon = getObjectValue('props.pageProps.unifiedApp.icon', __NEXT_DATA__);\n\n  if (universalPoductId || universalPoductName || universalPoductIcon) {\n    if (!pageVal.obj_nav) {\n      pageVal.obj_nav = {};\n    }\n    if (!pageVal.obj_nav.universal_product) {\n      pageVal.obj_nav.universal_product = {};\n      if (universalPoductId) {\n        pageVal.obj_nav.universal_product.id = String(universalPoductId);\n      }\n      if (universalPoductName) {\n        pageVal.obj_nav.universal_product.name = universalPoductName;\n      }\n      if (universalPoductIcon) {\n        pageVal.obj_nav.universal_product.icon = universalPoductIcon;\n      }\n    }\n  }\n\n  const publisher = getObjectValue('props.pageProps.publisher', __NEXT_DATA__);\n  if (publisher) {\n    pageVal.publisher = publisher;\n  }\n\n  const appName = getObjectValue('props.pageProps.app.name', __NEXT_DATA__);\n  const appIcon = getObjectValue('props.pageProps.app.icon', __NEXT_DATA__);\n  const _market = getObjectValue('props.pageProps.app.market', __NEXT_DATA__);\n  const status = getObjectValue('props.pageProps.app.status', __NEXT_DATA__);\n  let market;\n  if (_market === 'google-play') market = 'gp';\n  if (_market === 'apple-store') market = 'ios';\n  const storeUrl = getObjectValue('props.pageProps.app.url', __NEXT_DATA__);\n  let marketId;\n  if (market === 'ios') {\n    const [, id] = /\\/id(\\d+)/.exec(storeUrl);\n    marketId = id;\n  }\n  if (market === 'gp') {\n    const url = new URL(storeUrl);\n    const urlParams = new URLSearchParams(url.search);\n    marketId = urlParams.get('id');\n  }\n  pageVal.meta_data = {};\n  if (appName) {\n    pageVal.meta_data.name = appName;\n  }\n  if (appIcon) {\n    pageVal.meta_data.icon = appIcon;\n  }\n  if (market) {\n    pageVal.meta_data.market = market;\n  }\n  if (marketId) {\n    pageVal.meta_data.marketId = marketId;\n  }\n  if (typeof status === 'number') {\n    pageVal.meta_data.status = status;\n  }\n  try {\n    const res =\n      (await fetch('https://worker.buzz.guru/api/appannie/updateOne', {\n        method: 'post',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(pageVal),\n      })) || {};\n    console.log({ status: res.status, statusText: res.statusText });\n    window.siiimpleToast.success('Приложение спаршено');\n  } catch (e) {\n    window.siiimpleToast.alert('Произошла ошибка при запросе к воркеру');\n  }\n  return { status: 'ok' };\n}\n\nexport default appannie;\n","/* eslint-disable no-param-reassign */\n/* global document window */\n\n// @match        *://hypeauditor.com/*\n// @match        *://*.hypeauditor.com/*\n\nimport { addXMLRequestCallback } from '../utils';\n\nconst isDev = 0;\nconst host = isDev ? 'http://127.0.0.1:8000' : 'https://worker.buzz.guru';\n\nexport async function hypeauditor() {\n  const location = document?.location?.href || '';\n  if (!location.includes('hypeauditor.com')) return { status: 'ignoreDomain' };\n\n  addXMLRequestCallback(async (xhr) => {\n    const responseHeaders = {};\n    const responseHeadersArray = xhr\n      .getAllResponseHeaders()\n      .split('\\n')\n      .filter((str) => str);\n    responseHeadersArray.forEach((header) => {\n      const [key, value] = header.split(/: (.+)/);\n      responseHeaders[key] = value;\n    });\n    const payload = {\n      url: xhr.meta.url,\n      request: {\n        method: xhr.meta.method,\n        headers: xhr.requestHeaders,\n        body: xhr.meta.body,\n      },\n      response: {\n        headers: responseHeaders,\n        data: xhr.response.data,\n      },\n    };\n\n    const dataRegExp = /^\\/discovery\\/ajax\\/.*$/;\n    const isData = dataRegExp.test(payload.url);\n\n    if (!isData) return;\n\n    console.log('[R]', payload, xhr); // eslint-disable-line no-console\n\n    window.__lskjs.GM_xmlhttpRequest({\n      method: 'POST',\n      url: `${host}/api/hypeauditor/intercept`,\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      data: JSON.stringify(payload),\n    });\n  });\n  return { status: 'success' };\n}\n\nexport default hypeauditor;\n","/* global document */\n\nexport function injectCss(href) {\n  const node = document.getElementsByTagName('head')[0];\n  const tag = document.createElement('link');\n  tag.setAttribute('rel', 'stylesheet');\n  tag.setAttribute('type', 'text/css');\n  tag.setAttribute('href', href);\n  node.appendChild(tag);\n}\n\nexport default injectCss;\n","/* eslint-disable prefer-promise-reject-errors */\n/* global document window GM_addElement */\n/* eslint-disable camelcase */\n\nconst { env, log } = window.__lskjs || {};\nconst { isDev } = env || {};\n\nfunction injectJs(src) {\n  if (isDev) log.trace('[injectJs] start', src);\n  return new Promise((resolve, reject) => {\n    try {\n      if (typeof GM_addElement !== 'undefined') {\n        GM_addElement('script', {\n          src,\n          type: 'text/javascript',\n        });\n      } else {\n        const script = document.createElement('script');\n        script.src = src;\n        script.onload = resolve;\n        script.error = (...args) => {\n          log.error('[injectJs] err', args[0]);\n          return reject(...args);\n        };\n        document.body.appendChild(script);\n      }\n      resolve();\n    } catch (error) {\n      reject(error);\n    }\n    if (isDev) log.trace('[injectJs] success', src);\n  });\n}\n\nexport { injectJs };\n\nexport default injectJs;\n","/* global window */\n\nexport function openTab(href, { timeout = 60000 } = {}) {\n  return new Promise((resolve) => {\n    const tab = window.open(href, '_blank');\n    setTimeout(() => {\n      tab.close();\n      resolve();\n    }, timeout);\n  });\n}\n\nexport default openTab;\n","/* global XMLHttpRequest */\n\nexport function addXMLRequestCallback(callback) {\n  let oldSend;\n  let oldSetRequestHeader;\n  let oldOpen;\n  let i;\n  if (XMLHttpRequest.callbacks) {\n    XMLHttpRequest.callbacks.push(callback);\n  } else {\n    XMLHttpRequest.callbacks = [callback];\n    oldSend = XMLHttpRequest.prototype.send;\n    oldSetRequestHeader = XMLHttpRequest.prototype.setRequestHeader;\n    oldOpen = XMLHttpRequest.prototype.open;\n    XMLHttpRequest.prototype.send = function (body) {\n      this.meta.body = body;\n      oldSend.apply(this, arguments); // eslint-disable-line prefer-rest-params\n    };\n    XMLHttpRequest.prototype.open = function (method, url, async, user, password) {\n      this.meta = {\n        method,\n        url,\n        async,\n        user,\n        password,\n      };\n      this.addEventListener('load', function () {\n        for (i = 0; i < XMLHttpRequest.callbacks.length; i += 1) {\n          // eslint-disable-line no-plusplus\n          XMLHttpRequest.callbacks[i](this);\n        }\n      });\n      oldOpen.apply(this, arguments); // eslint-disable-line prefer-rest-params\n    };\n    XMLHttpRequest.prototype.setRequestHeader = function (key, value) {\n      if (!this.requestHeaders) {\n        this.requestHeaders = {};\n      }\n      this.requestHeaders[key] = value;\n      oldSetRequestHeader.apply(this, arguments); // eslint-disable-line prefer-rest-params\n    };\n  }\n}\n\nexport default addXMLRequestCallback;\n","/* eslint-disable no-param-reassign */\n/* global document window */\n\n// @match        *://instagram.com/*\n// @match        *://*.instagram.com/*\n\nimport { addXMLRequestCallback } from '../utils';\n\nconst isDev = 0;\nconst host = isDev ? 'http://127.0.0.1:8000' : 'https://worker.buzz.guru';\nconst interceptEndpoint = `${host}/api/instagram/intercept`;\nconst reqBody = {\n  method: 'POST',\n  url: interceptEndpoint,\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n};\n\nfunction sharedDataGetter() {\n  if (\n    window._sharedData &&\n    window._sharedData.entry_data &&\n    window._sharedData.entry_data.ProfilePage &&\n    Array.isArray(window._sharedData.entry_data.ProfilePage) &&\n    window._sharedData.entry_data.ProfilePage.length\n  ) {\n    const profilePage = window._sharedData.entry_data.ProfilePage[0];\n    if (profilePage.graphql && profilePage.graphql.user) {\n      const { user } = profilePage.graphql;\n      const payload = {\n        url: `/${user.username}/?__a=1`,\n        request: {\n          method: 'GET',\n        },\n        response: {\n          text: JSON.stringify(profilePage),\n        },\n      };\n      window.__lskjs.GM_xmlhttpRequest({\n        ...reqBody,\n        data: JSON.stringify(payload),\n      });\n    }\n  }\n}\n\nexport async function instagram() {\n  const location = document?.location?.href || '';\n  if (!location.includes('://www.instagram.com')) return { status: 'ignoreDomain' };\n\n  sharedDataGetter();\n\n  addXMLRequestCallback(async (xhr) => {\n    const responseHeaders = {};\n    const responseHeadersArray = xhr\n      .getAllResponseHeaders()\n      .split('\\n')\n      .filter((str) => str);\n    responseHeadersArray.forEach((header) => {\n      const [key, value] = header.split(/: (.+)/);\n      responseHeaders[key] = value;\n    });\n    const payload = {\n      url: xhr.meta.url,\n      request: {\n        method: xhr.meta.method,\n        headers: xhr.requestHeaders,\n        body: xhr.meta.body,\n      },\n      response: {\n        headers: responseHeaders,\n        text: xhr.responseText,\n      },\n    };\n\n    console.log('[R]', payload); // eslint-disable-line no-console\n    window.__lskjs.GM_xmlhttpRequest({\n      ...reqBody,\n      data: JSON.stringify(payload),\n    });\n  });\n  return { status: 'success' };\n}\n\nexport default instagram;\n","/* eslint-disable no-param-reassign */\n/* global document window */\n\n// @match        *://modash.io/*\n// @match        *://*.modash.io/*\n\nimport { addXMLRequestCallback } from '../utils';\n\nconst isDev = 0;\nconst host = isDev ? 'http://127.0.0.1:8000' : 'https://worker.buzz.guru';\n\nfunction getType(url) {\n  const webOverviewRegexp = /^.*\\/api\\/discovery\\/show-profile.*$/;\n  const webFullRegexp = /^.*\\/api\\/discovery\\/report.*$/;\n  const isWebOverview = webOverviewRegexp.test(url);\n  const isWebFull = webFullRegexp.test(url);\n\n  let type = '';\n  if (isWebOverview) type = 'web_overview';\n  if (isWebFull) type = 'web_full';\n  return type;\n}\n\nfunction getRoute(profile) {\n  const { profileType } = profile;\n\n  let platform = '/';\n  if (profileType === 'YOUTUBE') platform = 'youtube';\n  if (profileType === 'INSTAGRAM') platform = 'instagram';\n  if (profileType === 'TIKTOK') platform = 'tiktok';\n\n  // return `modash/channel_events/${platform}/`;\n  return `${platform}_channel_modash_events/`;\n}\n\nexport async function modash() {\n  const location = document?.location?.href || '';\n  if (!location.includes('marketer.modash.io')) return { status: 'ignoreDomain' };\n\n  addXMLRequestCallback(async (xhr) => {\n    const responseHeaders = {};\n    const responseHeadersArray = xhr\n      .getAllResponseHeaders()\n      .split('\\n')\n      .filter((str) => str);\n    responseHeadersArray.forEach((header) => {\n      const [key, value] = header.split(/: (.+)/);\n      responseHeaders[key] = value;\n    });\n    const payload = {\n      url: xhr.meta.url,\n      request: {\n        method: xhr.meta.method,\n        headers: xhr.requestHeaders,\n        body: xhr.meta.body,\n      },\n      response: {\n        headers: responseHeaders,\n        text: xhr.responseText,\n      },\n    };\n\n    const type = getType(payload.url);\n    if (!type) return;\n\n    const { error, profile } = JSON.parse(payload.response.text) || {};\n    if (error || !profile) return;\n\n    const route = getRoute(profile);\n    if (!route) return;\n\n    console.log('[R]', payload); // eslint-disable-line no-console\n\n    window.__lskjs.GM_xmlhttpRequest({\n      method: 'POST',\n      url: `${host}/api/${route}`,\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      data: JSON.stringify({ type, data: profile.profileData }),\n    });\n  });\n  return { status: 'success' };\n}\n\nexport default modash;\n","/* global document window navigator  */\n\n// @match        https://www.youtube.com/*\n\nimport find from 'lodash/find';\nimport get from 'lodash/get';\nimport set from 'lodash/set';\n\n// @match        https://www.youtube.com/*\n// eslint-disable-next-line camelcase\nconst { unsafeWindow, log, GM_xmlhttpRequest } = window.__lskjs;\n\nfunction getQueryParams(url) {\n  const qparams = {};\n  const parts = (url || '').split('?');\n  let qpart;\n\n  if (parts.length <= 1) {\n    return qparams;\n  }\n  const qparts = parts[1].split('&');\n  let i = 0;\n  for (i in qparts) { // eslint-disable-line\n    qpart = qparts[i].split('=');\n    qparams[decodeURIComponent(qpart[0])] = decodeURIComponent(qpart[1] || '');\n  }\n\n  return qparams;\n}\n\nfunction humanToNubmer(text) {\n  const unshortRegex = /(\\d+\\.?\\d*)([  KMBмлнтысрд]+)/gim;\n  const factor = {\n    K: 1000,\n    M: 1000000,\n    B: 1000000000,\n    млрд: 1000000000,\n    млн: 1000000,\n    тыс: 1000,\n  };\n  const shortenArray = unshortRegex.exec(text);\n  const numberAsString = shortenArray[1];\n  const number = parseFloat(numberAsString);\n  const lastSymbol = shortenArray[2].trim();\n  if (factor) {\n    return Math.round(number * factor[lastSymbol]);\n  }\n  return number;\n}\n\nfunction median(values) {\n  if (values.length === 0) return 0;\n\n  values.sort((a, b) => a - b);\n\n  const half = Math.floor(values.length / 2);\n\n  if (values.length % 2) return values[half];\n\n  return (values[half - 1] + values[half]) / 2.0;\n}\n\nconst BROWSE_URL = 'https://www.youtube.com/youtubei/v1/browse?key=AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8';\n\nconst dateAllow = ['week', '1 month ago', '2 months ago', '3 months ago', '4 months ago'];\nconst dateDisallow = ['months', 'year'];\nlet table = [];\n\nexport async function youtube() {\n  const location = document?.location?.href || '';\n  if (!location.includes('youtube.com')) return { status: 'ignoreDomain' };\n\n  const element = document.createElement('div');\n  const status = document.createElement('div');\n  const result = document.createElement('div');\n  const resultText = document.createElement('div');\n  const resultCopy = document.createElement('button');\n  resultCopy.innerText = 'Copy table';\n  result.appendChild(resultText);\n  result.appendChild(resultCopy);\n  resultCopy.addEventListener('click', async () => {\n    const excelData = table.map((lines) => lines.join('\\t')).join('\\n');\n    navigator.clipboard.writeText(excelData);\n  });\n  element.style.zIndex = 99999;\n  element.style.position = 'fixed';\n  element.style.right = '10px';\n  element.style.bottom = '10px';\n  element.style.visibility = 'hidden';\n  status.style.background = 'white';\n  status.style.position = 'fixed';\n  status.style.bottom = '10px';\n  status.style.left = '10px';\n  status.style.padding = '10px';\n  status.style.borderRadius = '10px';\n  status.style.visibility = 'hidden';\n  result.style.background = 'white';\n  result.style.maxWidth = '50%';\n  result.style.position = 'fixed';\n  result.style.bottom = '10px';\n  result.style.left = ' 50%';\n  result.style.transform = 'translateX(-50%)';\n  result.style.padding = '10px';\n  result.style.borderRadius = '10px';\n  result.style.visibility = 'hidden';\n  const button2 = document.createElement('button');\n  const button1 = document.createElement('button');\n  const button4 = document.createElement('button');\n  button1.innerText = 'Get data for 1';\n  button2.innerText = '2';\n  button4.innerText = '4 months';\n  const onClick = async (count) => {\n    status.style.visibility = 'inherit';\n    status.innerHTML = '<div>Собираем информацию об аккаунте</div>';\n    let channelId;\n    let title;\n    let link;\n    let email;\n    let country;\n    let subscribers;\n    let links = [];\n    try {\n      let pathName = document.location.pathname;\n      // const isC = pathName === '/c';\n      // const isChannel = pathName === '/channel';\n      // const isUser = pathName === '/user';\n      const isChannelHTML = !!document.querySelector('ytd-browse[role=\"main\"] #channel-header');\n      log.trace({ /* isC, isChannel, isUser, */ isChannelHTML, pathName });\n      if (/* isC || isChannel || isUser || */ isChannelHTML) {\n        const f = document.querySelector('ytd-browse[role=\"main\"] form#form');\n        log.trace(f);\n        if (f && f.action) {\n          log.trace(f.action);\n          pathName = new URL(f.action).pathname;\n        } else {\n          status.innerHTML += '<div><strong>Проблемы с ссылкой</strong></div>';\n          throw 'нету юрл';\n        }\n      }\n      let url;\n      if (pathName.includes('/search')) {\n        url = pathName.replace(/\\/search$/, '/about');\n      } else {\n        const pathAndId = /\\/(c|channel|user)\\/([^\\/?#\\s()]+)/.exec(decodeURIComponent(pathName));\n        url = `/${pathAndId[1]}/${pathAndId[2]}/about`;\n      }\n      log.trace({ url }, 111);\n      const channelResponse = await unsafeWindow\n        .fetch(url)\n        .then((res) => res.text())\n        .catch((err) => {\n          log.error({ err });\n          throw err;\n        });\n      log.trace({ channelResponse });\n      const [, json2] = channelResponse.match(/var ytInitialData\\s*=\\s*(.*);\\s*<\\/script>/) || [];\n      const ytInitialResponse = JSON.parse(json2);\n      const metadata = ytInitialResponse.metadata.channelMetadataRenderer;\n      channelId = metadata.externalId;\n      try {\n        GM_xmlhttpRequest({\n          // eslint-disable-line no-undef\n          method: 'GET',\n          url: `https://worker.buzz.guru/api/channel_page?providerId=${channelId}`,\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n          },\n        });\n      } catch (e) {\n        log.trace(e);\n      }\n      title = metadata.title;\n      link = `${metadata.channelUrl}/videos`;\n      const description = metadata.description || '';\n      const emailInDescription = /(\\S+@\\S+\\.\\S+)/.exec(description);\n      if (emailInDescription) {\n        email = emailInDescription[0];\n      }\n      const tabs = get(ytInitialResponse, 'contents.twoColumnBrowseResultsRenderer.tabs', []);\n      const aboutTab = find(tabs, (tab) => get(tab, 'tabRenderer.selected', false));\n      country = get(\n        aboutTab,\n        'tabRenderer.content.sectionListRenderer.contents[0].itemSectionRenderer.contents[0].channelAboutFullMetadataRenderer.country.simpleText',\n        null,\n      );\n      const rawLinks = get(\n        aboutTab,\n        'tabRenderer.content.sectionListRenderer.contents[0].itemSectionRenderer.contents[0].channelAboutFullMetadataRenderer.primaryLinks',\n        [],\n      );\n      links = rawLinks.map((link) => {\n        const originalUrl = get(link, 'navigationEndpoint.urlEndpoint.url');\n\n        if (originalUrl.includes('http') && !originalUrl.includes('https://www.youtube.com/redirect')) {\n          return originalUrl;\n        }\n        const { q } = getQueryParams(originalUrl);\n\n        if (!q) {\n          return originalUrl;\n        }\n        return q;\n      });\n      const subscribersText = get(\n        ytInitialResponse,\n        'header.c4TabbedHeaderRenderer.subscriberCountText.simpleText',\n        '',\n      ).replace(',', '.');\n      if (subscribersText) {\n        subscribers = humanToNubmer(subscribersText);\n      }\n    } catch (e) {\n      console.err(e);\n      status.innerHTML += '<div><strong>Произошла ошибка</strong></div>';\n      return false;\n    }\n    try {\n      const strIC = JSON.stringify(unsafeWindow.ytcfg.get('INNERTUBE_CONTEXT'));\n      const INNERTUBE_CONTEXT = JSON.parse(strIC);\n      set(INNERTUBE_CONTEXT, 'client.hl', 'en');\n      let continuationToken;\n      const videosViews = [];\n      status.innerHTML += `<div>Собираем информацию о видео за ${count} месяца</div>`;\n      do {\n        const bodyParams = {\n          context: INNERTUBE_CONTEXT,\n        };\n        if (continuationToken) {\n          bodyParams.continuation = continuationToken;\n        } else {\n          bodyParams.browseId = channelId;\n          bodyParams.params = 'EgZ2aWRlb3M%3D';\n        }\n        log.trace(bodyParams);\n        const res = await fetch(BROWSE_URL, {\n          method: 'POST',\n          mode: 'same-origin',\n          headers: {\n            'content-type': 'application/json',\n            'x-goog-authuser': 0,\n            'x-goog-pageid': unsafeWindow.ytcfg.get('DELEGATED_SESSION_ID'),\n            'x-goog-visitor-id': unsafeWindow.ytcfg.get('VISITOR_DATA'),\n            'x-origin': 'https://www.youtube.com',\n            'x-youtube-client-name': unsafeWindow.ytcfg.get('INNERTUBE_CONTEXT_CLIENT_NAME'),\n            'x-youtube-client-version': unsafeWindow.ytcfg.get('INNERTUBE_CONTEXT_CLIENT_VERSION'),\n          },\n          body: JSON.stringify(bodyParams),\n        }).then((res) => res.json());\n        let items = [];\n        const tabs = get(res, 'contents.twoColumnBrowseResultsRenderer.tabs');\n        if (tabs) {\n          const videoTab = find(tabs, (tab) => get(tab, 'tabRenderer.selected', false));\n          items = get(\n            videoTab,\n            'tabRenderer.content.sectionListRenderer.contents[0].itemSectionRenderer.contents[0].gridRenderer.items',\n          );\n        } else {\n          items = get(res, 'onResponseReceivedActions[0].appendContinuationItemsAction.continuationItems');\n        }\n        let stop = false;\n        items.forEach((item) => {\n          continuationToken = get(\n            item,\n            'continuationItemRenderer.continuationEndpoint.continuationCommand.token',\n            null,\n          );\n          if (continuationToken) return;\n          const publishedText = get(item, 'gridVideoRenderer.publishedTimeText.simpleText');\n          if (publishedText) {\n            const viewCountText = get(item, 'gridVideoRenderer.viewCountText.simpleText');\n            if (!viewCountText) throw '!viewCountText';\n            const dAllow = [...dateAllow];\n            if (count === 1) {\n              dAllow.splice(-3);\n            }\n            if (count === 2) {\n              dAllow.splice(-2);\n            }\n            if (\n              !dAllow.some((it) => publishedText.includes(it)) &&\n              dateDisallow.some((it) => publishedText.includes(it))\n            ) {\n              stop = true;\n            }\n            if (dAllow.some((it) => publishedText.includes(it))) {\n              videosViews.push(Number(viewCountText.replace(/\\D+/g, '')));\n            }\n          }\n        });\n        if (stop) break;\n      } while (continuationToken);\n      const avgViews = Math.round(Math.round(median(videosViews)) / 100) * 100 || '';\n      status.innerHTML += '<div><strong>Собрано</strong></div>';\n      table = [[title, link, email || '', `\"${links.join('\\n')}\"`, country || '', '', '', subscribers || '', avgViews]];\n      resultText.innerHTML = `<strong>USERNAME</strong>: <div>${title}</div>\n          <strong>LINK</strong>: <div>${link}</div>\n          <strong>EMAIL</strong>: <div>${email || ''}</div>\n          <strong>OTHER CONTACT</strong>: <div>${links.join(', ')}</div>\n          <strong>COUNTRY</strong>: <div>${country || ''}</div>\n          <strong>LANGUAGE</strong>: <div></div>\n          <strong>CONTENT</strong>: <div></div>\n          <strong>SUBSCRIBERS</strong>: <div>${subscribers || ''}</div>\n          <strong>AV.VIEWS</strong>: <div>${avgViews}</div>`;\n      result.style.visibility = 'inherit';\n      log.trace(table, {\n        title,\n        link,\n        email,\n        country,\n        links,\n        subscribers,\n        avgViews,\n      });\n    } catch (e) {\n      console.err(e);\n      status.innerHTML += '<div><strong>Произошла ошибка</strong></div>';\n    }\n  };\n  button1.addEventListener('click', onClick.bind(this, 1));\n  button2.addEventListener('click', onClick.bind(this, 2));\n  button4.addEventListener('click', onClick.bind(this, 4));\n  element.appendChild(button1);\n  element.appendChild(button2);\n  element.appendChild(button4);\n  element.appendChild(status);\n  element.appendChild(result);\n  document.addEventListener('yt-navigate-finish', (e) => {\n    const pathName = document.location.pathname;\n    const isC = pathName === '/c';\n    const isChannel = pathName === '/channel';\n    const isUser = pathName === '/user';\n    const containsC = pathName.startsWith('/c/');\n    const containsChannel = pathName.startsWith('/channel/');\n    const containsUser = pathName.startsWith('/user/');\n    const isChannelHTML = !!document.querySelector('ytd-browse[role=\"main\"] #channel-header');\n    if (isC || isChannel || isUser || containsC || containsChannel || containsUser || isChannelHTML) {\n      log.trace({ isChannelHTML });\n      element.style.visibility = 'visible';\n      status.style.visibility = 'hidden';\n      result.style.visibility = 'hidden';\n    } else {\n      element.style.visibility = 'hidden';\n    }\n  });\n  window.onload = () => {\n    document.body.appendChild(element);\n  };\n}\n\nexport default youtube;\n","/* global document */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { ToolbarApp } from './ToolbarApp';\n\nexport const runPanel = async () => {\n  const node = document.createElement('div');\n  ReactDOM.render(React.createElement(ToolbarApp), node);\n  document.body.appendChild(node);\n};\n\nexport default runPanel;\n","import Button from '@lskjs/button';\nimport { Col, Container, Row } from '@lskjs/grid';\nimport React from 'react';\n\nexport class Timer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { seconds: 0 };\n  }\n\n  tick() {\n    this.setState((state) => ({\n      seconds: state.seconds + 1,\n    }));\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => this.tick(), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    return <div>Seconds: {this.state.seconds}</div>;\n  }\n}\n\nconst style = {\n  position: 'fixed',\n  zIndex: 99999,\n  bottom: 0,\n  left: 0,\n  background: 'gray',\n  color: 'white',\n  width: '100%',\n};\n\nexport const ToolbarApp = ({ children }) => (\n  <div style={style}>\n    <Container>\n      <Row>\n        <Col md={6}>\n          <Timer />\n        </Col>\n        <Col md={3}>\n          <img src=\"https://buzzguru.github.io/userscript/logo.png\" />\n        </Col>\n      </Row>\n    </Container>\n  </div>\n);\n\nexport default ToolbarApp;\n"],"sourceRoot":""}
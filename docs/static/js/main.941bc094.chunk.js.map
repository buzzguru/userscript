{"version":3,"sources":["../../src/index.js","../../src/plugins/index.js","../../src/plugins/appannie.js","../../src/plugins/hypeauditor.js","../../src/utils/addGlobalStyle.js","../../src/utils/injectCss.js","../../src/utils/injectJs.js","../../src/utils/openTab.js","../../src/utils/addXMLRequestCallback.js","../../src/plugins/igram.js","../../src/plugins/loaderto.js","../../src/plugins/instagram.js","../../src/plugins/modash.js","../../src/plugins/youtube.js","../../src/plugins/toolbar/index.js","../../src/plugins/toolbar/ToolbarApp.jsx","../../src/utils/index.js","../../src/plugins/downloader.js"],"names":["log","window","__lskjs","jses","csses","Bluebird","map","item","injectJs","injectCss","error","plugins","plugin","name","trace","res","catch","err","main","getObjectValue","path","object","defaultValue","split","Array","isArray","length","key","slicedPath","slice","Object","hasOwnProperty","call","getShortMarketName","fullName","toast","text","type","console","siiimpleToast","fetch","then","setTimeout","location","reload","appannie","document","href","includes","status","__NEXT_DATA__","is404Page","body","innerText","startsWith","pageVal","productId","productTitle","pathname","method","mode","fullMarketName","app_id","String","market_name","companyId","companyName","obj_nav","company","id","shortMarketName","productUniversalProductId","product","market","universal_product_id","universalPoductId","universalPoductName","universalPoductIcon","universal_product","icon","publisher","appName","appIcon","_market","storeUrl","exec","marketId","url","URL","urlParams","URLSearchParams","search","get","meta_data","headers","Accept","JSON","stringify","statusText","success","alert","host","hypeauditor","addXMLRequestCallback","xhr","responseHeaders","getAllResponseHeaders","filter","str","forEach","header","value","payload","meta","request","requestHeaders","response","data","test","GM_xmlhttpRequest","addGlobalStyle","css","head","getElementsByTagName","style","createElement","innerHTML","appendChild","node","tag","setAttribute","env","isDev","src","Promise","resolve","reject","GM_addElement","script","onload","openTab","timeout","tab","open","close","callback","oldSend","oldSetRequestHeader","oldOpen","i","XMLHttpRequest","callbacks","push","prototype","send","setRequestHeader","this","apply","arguments","async","user","password","addEventListener","igram","spam","loaderto","reqBody","sharedDataGetter","_sharedData","entry_data","ProfilePage","profilePage","graphql","username","instagram","responseText","getType","getRoute","profile","profileType","platform","modash","parse","route","profileData","unsafeWindow","getQueryParams","qpart","qparams","parts","qparts","decodeURIComponent","humanToNubmer","factor","K","M","B","млрд","млн","тыс","shortenArray","numberAsString","number","parseFloat","lastSymbol","trim","Math","round","median","values","sort","a","b","half","floor","BROWSE_URL","dateAllow","dateDisallow","table","youtube","element","result","resultText","resultCopy","excelData","lines","join","navigator","clipboard","writeText","zIndex","position","right","bottom","visibility","background","left","padding","borderRadius","maxWidth","transform","button2","button1","button4","onClick","count","links","pathName","isChannelHTML","querySelector","f","action","replace","pathAndId","channelResponse","match","json2","ytInitialResponse","metadata","channelMetadataRenderer","channelId","externalId","e","title","link","channelUrl","description","emailInDescription","email","tabs","aboutTab","country","rawLinks","originalUrl","q","subscribersText","subscribers","strIC","ytcfg","INNERTUBE_CONTEXT","videosViews","bodyParams","context","continuationToken","continuation","browseId","params","json","items","videoTab","stop","publishedText","viewCountText","dAllow","splice","some","it","Number","avgViews","bind","isC","isChannel","isUser","containsC","containsChannel","containsUser","toolbar","ReactDOM","render","React","ToolbarApp","Timer","props","state","seconds","setState","interval","setInterval","tick","clearInterval","Component","color","width","children","Container","Row","Col","md","downloader","BUTTON_TEXT","BUTTON_TOOLTIP","language","documentElement","getAttribute","LoaderButton","family_name","lastAddress","up","buttonText","buttonLabel","download_button","classList","add","textContent","_id","ev","list","getElementById","display","listDom","downloadText","div","className","target","_idL","_idB","t","btn","remove","lst","page_url","instances","AddButton","box","firstChild","DoButtonsExist","AreButtonsUpToDate","CleanPrevious","BigBlueButtonCreator","fontSize","insertBefore","download_options_list","createList","BestContainer","ActionBar","InnerRow","flexDirection","Save","PostContent","video","embedded","overflow","miniPlayerDownloader","miniPlayerLink","getElementsByClassName","top","bigPlayerDownloader","TITLE","c","justifyContent","RightMenu","FollowButton","fontWeight","realContent","art","childElementCount","content","parentElement","PARENT_OF_THREE_DOTS","THREE_DOTS","margin","verticalAlign","v","searchParams","TOP_ROW","SUB_BUTTON","onurlchange","info"],"mappings":"yJACA,YACA,YACA,YAEA,E,0bAAA,SACA,Q,gIAGA,IAAQA,EAAQC,OAAOC,QAAfF,KAER,eAEA,IAAMG,EAAO,CAAC,0EACRC,EAAQ,CAEZ,+DAGQ,+CAAG,6GAEHC,UAASC,IAAIH,GAAM,SAACI,GAAD,OAAU,IAAAC,UAASD,MAFnC,uBAGHF,UAASC,IAAIF,GAAO,SAACG,GAAD,OAAU,IAAAE,WAAUF,MAHrC,uDAKTP,EAAIU,MAAM,mBAAV,MALS,0BAOL,aAAeC,EAAf,+CAAwB,WAAOC,EAAQC,GAAf,6FAE1Bb,EAAIc,MAAJ,WAAcD,EAAd,eAF0B,SAGRD,IAHQ,OAGpBG,EAHoB,OAI1Bf,EAAIc,MAAJ,WAAcD,EAAd,QAA0BE,GAJA,gDAM1Bf,EAAIU,MAAJ,WAAcG,EAAd,eAN0B,yDAAxB,yDAQHG,OAAM,SAACC,GACRjB,EAAIU,MAAM,oBAAqBO,MAhBtB,yDAAH,qDAoBVC,I,s1BCvCA,aACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,U,+NCCO,SAASC,EAAeC,EAAMC,GAA6B,IAArBC,EAAqB,uDAAN,KAC1D,GAAoB,kBAATF,EACT,OAAOD,EAAeC,EAAKG,MAAM,MAAOF,EAAQC,GAGlD,IAAKE,MAAMC,QAAQL,IAAyB,IAAhBA,EAAKM,OAC/B,OAAOJ,EAGT,oBAAcF,EAAd,GAAOO,EAAP,KACMC,EAAaR,EAAKS,MAAM,GAE9B,OAAKR,GAA4B,YAAlB,aAAOA,IAAwBS,OAAOC,eAAeC,KAAKX,EAAQM,GAIvD,IAAtBC,EAAWF,OACNL,EAAOM,GAETR,EAAeS,EAAYP,EAAOM,GAAML,GANtCA,EASJ,SAASW,EAAmBC,GACjC,MAAiB,gBAAbA,EACK,KAEFA,EAGF,SAASC,EAAMC,GAAiC,6DAAJ,GAAI,IAAzBC,YAAyB,MAAlB,UAAkB,EACrDC,QAAQtC,IAAI,UAAWoC,GAClBnC,OAAOsC,gBACZtC,OAAOsC,cAAcF,GAAMD,GAC3BI,MAAM,sBAAsBC,MAAK,WAC/BC,YAAW,WACTzC,OAAO0C,SAASC,WACf,S,SAIeC,I,mFAAf,yJACoB,QAAR,EAAAC,gBAAA,mBAAUH,gBAAV,eAAoBI,OAAQ,IAC/BC,SAAS,uBAFlB,yCAEiD,CAAEC,OAAQ,iBAF3D,YAOqBhD,OAAlBiD,EAPH,EAOGA,eACFC,EAAYL,SAASM,KAAKC,UAAUC,WAAW,eACkC,UAArEnC,EAAe,kCAAmC+B,GAT/D,gCAUGf,EAAM,qSAVT,gCAWI,CAAEc,OAAQ,iBAXd,UAaCM,EAAU,CACdZ,SAAU1C,OAAO0C,SAASI,MAEtBS,EAAYrC,EAAe,yBAA0B+B,GACrDO,EAAetC,EAAe,2BAA4B+B,KAC5DC,IAAcK,GAAcC,GAAiC,oBAAjBA,GAlB3C,kCAmBGjB,MAAM,2DAAD,OAA4DM,SAASH,SAASe,UAAY,CACnGC,OAAQ,OACRC,KAAM,YArBL,eAuBHzB,EAAM,uDAAgB,CAAEE,KAAM,UAC9BC,QAAQtC,IAAI,wJAxBT,kBAyBI,CAAEiD,OAAQ,QAzBd,eA4BCY,EAAiB1C,EAAe,yBAA0B+B,GAE5DM,IACFD,EAAQO,OAASC,OAAOP,IAGtBK,IACFN,EAAQS,YAAcH,GAGlBI,EAAY9C,EAAe,6BAA8B+B,GACzDgB,EAAc/C,EAAe,+BAAgC+B,IAE/De,GAAaC,KACVX,EAAQY,UACXZ,EAAQY,QAAU,IAEfZ,EAAQY,QAAQC,UACnBb,EAAQY,QAAQC,QAAU,GACtBH,IACFV,EAAQY,QAAQC,QAAQC,GAAKN,OAAOE,IAElCC,IACFX,EAAQY,QAAQC,QAAQvD,KAAOqD,KAK/BI,EAAkBrC,EAAmB4B,GACrCU,EAA4BpD,EAAe,gCAAiC+B,IAE9EM,GAAac,GAAmBC,KAC7BhB,EAAQY,UACXZ,EAAQY,QAAU,IAEfZ,EAAQY,QAAQK,UACnBjB,EAAQY,QAAQK,QAAU,GACtBhB,IACFD,EAAQY,QAAQK,QAAQH,GAAKN,OAAOP,IAElCc,IACFf,EAAQY,QAAQK,QAAQC,OAASH,GAE/BC,IACFhB,EAAQY,QAAQK,QAAQE,qBAAuBX,OAAOQ,MAKtDI,EAAoBxD,EAAe,gCAAiC+B,GACpE0B,EAAsBzD,EAAe,kCAAmC+B,GACxE2B,EAAsB1D,EAAe,kCAAmC+B,IAE1EyB,GAAqBC,GAAuBC,KACzCtB,EAAQY,UACXZ,EAAQY,QAAU,IAEfZ,EAAQY,QAAQW,oBACnBvB,EAAQY,QAAQW,kBAAoB,GAChCH,IACFpB,EAAQY,QAAQW,kBAAkBT,GAAKN,OAAOY,IAE5CC,IACFrB,EAAQY,QAAQW,kBAAkBjE,KAAO+D,GAEvCC,IACFtB,EAAQY,QAAQW,kBAAkBC,KAAOF,MAKzCG,EAAY7D,EAAe,4BAA6B+B,MAE5DK,EAAQyB,UAAYA,GAGhBC,EAAU9D,EAAe,2BAA4B+B,GACrDgC,EAAU/D,EAAe,2BAA4B+B,GACrDiC,EAAUhE,EAAe,6BAA8B+B,GACvDD,EAAS9B,EAAe,6BAA8B+B,GAE5C,gBAAZiC,IAA2BV,EAAS,MACxB,gBAAZU,IAA2BV,EAAS,OAClCW,EAAWjE,EAAe,0BAA2B+B,GAE5C,QAAXuB,IAAkB,EACL,YAAYY,KAAKD,GADZ,qBACXf,EADW,KAEpBiB,EAAWjB,GAEE,OAAXI,IACIc,EAAM,IAAIC,IAAIJ,GACdK,EAAY,IAAIC,gBAAgBH,EAAII,QAC1CL,EAAWG,EAAUG,IAAI,OAE3BrC,EAAQsC,UAAY,GAChBZ,IACF1B,EAAQsC,UAAUhF,KAAOoE,GAEvBC,IACF3B,EAAQsC,UAAUd,KAAOG,GAEvBT,IACFlB,EAAQsC,UAAUpB,OAASA,GAEzBa,IACF/B,EAAQsC,UAAUP,SAAWA,GAET,kBAAXrC,IACTM,EAAQsC,UAAU5C,OAASA,GAxIxB,oBA4IMT,MAAM,kDAAmD,CAC9DmB,OAAQ,OACRmC,QAAS,CACPC,OAAQ,mBACR,eAAgB,oBAElB3C,KAAM4C,KAAKC,UAAU1C,KAlJtB,kDAmJM,GAnJN,QA2IGxC,EA3IH,KAoJHuB,QAAQtC,IAAI,CAAEiD,OAAQlC,EAAIkC,OAAQiD,WAAYnF,EAAImF,aAClDjG,OAAOsC,cAAc4D,QAAQ,iHArJ1B,mDAuJHlG,OAAOsC,cAAc6D,MAAM,+MAvJxB,iCAyJE,CAAEnD,OAAQ,OAzJZ,4D,4BA4JQJ,E,gLCvMf,QAGMwD,EAAyC,2B,SAEzBC,I,mFAAf,iGACoB,QAAR,EAAAxD,gBAAA,mBAAUH,gBAAV,eAAoBI,OAAQ,IAC/BC,SAAS,mBAFlB,yCAE6C,CAAEC,OAAQ,iBAFvD,cAIL,IAAAsD,uBAAA,+CAAsB,WAAOC,GAAP,kFACdC,EAAkB,GACKD,EAC1BE,wBACAnF,MAAM,MACNoF,QAAO,SAACC,GAAD,OAASA,KACEC,SAAQ,SAACC,GAC5B,MAAqBA,EAAOvF,MAAM,UAAlC,qBAAOI,EAAP,KAAYoF,EAAZ,KACAN,EAAgB9E,GAAOoF,KAEnBC,EAAU,CACdzB,IAAKiB,EAAIS,KAAK1B,IACd2B,QAAS,CACPvD,OAAQ6C,EAAIS,KAAKtD,OACjBmC,QAASU,EAAIW,eACb/D,KAAMoD,EAAIS,KAAK7D,MAEjBgE,SAAU,CACRtB,QAASW,EACTY,KAAMb,EAAIY,SAASC,OAIJ,0BACOC,KAAKN,EAAQzB,KAxBnB,iDA4BpBjD,QAAQtC,IAAI,MAAOgH,GAEnB/G,OAAOC,QAAQqH,kBAAkB,CAC/B5D,OAAQ,OACR4B,IAAK,GAAF,OAAKc,EAAL,8BACHP,QAAS,CACPC,OAAQ,mBACR,eAAgB,oBAElBsB,KAAMrB,KAAKC,UAAUe,KArCH,4CAAtB,uDAJK,kBA4CE,CAAE/D,OAAQ,YA5CZ,4C,4BA+CQqD,E,8CCvDR,SAASkB,EAAeC,GAE7B,IAAMC,EAAO5E,SAAS6E,qBAAqB,QAAQ,GACnD,GAAKD,EAAL,CAGA,IAAME,EAAQ9E,SAAS+E,cAAc,SACrCD,EAAMvF,KAAO,WACbuF,EAAME,UAAYL,EAClBC,EAAKK,YAAYH,I,2FAGJJ,E,8CCbR,SAAS/G,EAAUsC,GACxB,IAAMiF,EAAOlF,SAAS6E,qBAAqB,QAAQ,GAC7CM,EAAMnF,SAAS+E,cAAc,QACnCI,EAAIC,aAAa,MAAO,cACxBD,EAAIC,aAAa,OAAQ,YACzBD,EAAIC,aAAa,OAAQnF,GACzBiF,EAAKD,YAAYE,G,sFAGJxH,E,6HCPf,MAAqBR,OAAOC,SAAW,GAA/BiI,EAAR,EAAQA,IAAKnI,EAAb,EAAaA,IACLoI,GAAUD,GAAO,IAAjBC,MAER,SAAS5H,EAAS6H,GAEhB,OADID,GAAOpI,EAAIc,MAAM,mBAAoBuH,GAClC,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IACE,GAA6B,qBAAlBC,cACTA,cAAc,SAAU,CACtBJ,MACAhG,KAAM,wBAEH,CACL,IAAMqG,EAAS5F,SAAS+E,cAAc,UACtCa,EAAOL,IAAMA,EACbK,EAAOC,OAASJ,EAChBG,EAAOhI,MAAQ,WAEb,OADAV,EAAIU,MAAM,iBAAV,yCACO8H,EAAM,WAAN,cAET1F,SAASM,KAAK2E,YAAYW,GAE5BH,IACA,MAAO7H,GACP8H,EAAO9H,GAEL0H,GAAOpI,EAAIc,MAAM,qBAAsBuH,M,MAMhC7H,E,8CClCR,SAASoI,EAAQ7F,GAAgC,6DAAJ,GAAI,IAAxB8F,eAAwB,MAAd,IAAc,EACtD,OAAO,IAAIP,SAAQ,SAACC,GAClB,IAAMO,EAAM7I,OAAO8I,KAAKhG,EAAM,UAC9BL,YAAW,WACToG,EAAIE,QACJT,MACCM,M,oFAIQD,E,8CCVR,SAASrC,EAAsB0C,GACpC,IAAIC,EACAC,EACAC,EACAC,EACAC,eAAeC,UACjBD,eAAeC,UAAUC,KAAKP,IAE9BK,eAAeC,UAAY,CAACN,GAC5BC,EAAUI,eAAeG,UAAUC,KACnCP,EAAsBG,eAAeG,UAAUE,iBAC/CP,EAAUE,eAAeG,UAAUV,KACnCO,eAAeG,UAAUC,KAAO,SAAUtG,GACxCwG,KAAK3C,KAAK7D,KAAOA,EACjB8F,EAAQW,MAAMD,KAAME,YAEtBR,eAAeG,UAAUV,KAAO,SAAUpF,EAAQ4B,EAAKwE,EAAOC,EAAMC,GAClEL,KAAK3C,KAAO,CACVtD,SACA4B,MACAwE,QACAC,OACAC,YAEFL,KAAKM,iBAAiB,QAAQ,WAC5B,IAAKb,EAAI,EAAGA,EAAIC,eAAeC,UAAU7H,OAAQ2H,GAAK,EAEpDC,eAAeC,UAAUF,GAAGO,SAGhCR,EAAQS,MAAMD,KAAME,YAEtBR,eAAeG,UAAUE,iBAAmB,SAAUhI,EAAKoF,GACpD6C,KAAKzC,iBACRyC,KAAKzC,eAAiB,IAExByC,KAAKzC,eAAexF,GAAOoF,EAC3BoC,EAAoBU,MAAMD,KAAME,a,kGAKvBvD,E,+JCxCf,Q,SAEsB4D,I,mFAAf,oGACCxH,GAAmB,QAAR,EAAAG,gBAAA,mBAAUH,gBAAV,eAAoBI,OAAQ,IAC/BC,SAAS,YAFlB,yCAEsC,CAAEC,OAAQ,iBAFhD,cAIDmH,EAAO,sGACNzH,EAASK,SAAS,UACrBoH,GAAQ,WAGV,IAAA5C,gBAAA,YACA4C,EADA,2CATK,kBAeE,CAAEnH,OAAQ,YAfZ,4C,4BAkBQkH,E,kKCpBf,Q,SAEsBE,I,mFAAf,iGACoB,QAAR,EAAAvH,gBAAA,mBAAUH,gBAAV,eAAoBI,OAAQ,IAC/BC,SAAS,aAFlB,yCAEuC,CAAEC,OAAQ,iBAFjD,aAIQ,8CAEb,IAAAuE,gBAAA,YAFa,6CAEb,mJANK,kBAeE,CAAEvE,OAAQ,YAfZ,4C,4BAkBQoH,E,0LClBf,Q,2kBAEA,IAGMC,EAAU,CACd3G,OAAQ,OACR4B,IAHwB,GAAH,OADwB,2BACxB,4BAIrBO,QAAS,CACPC,OAAQ,mBACR,eAAgB,qBAIpB,SAASwE,IACP,GACEtK,OAAOuK,aACPvK,OAAOuK,YAAYC,YACnBxK,OAAOuK,YAAYC,WAAWC,aAC9BlJ,MAAMC,QAAQxB,OAAOuK,YAAYC,WAAWC,cAC5CzK,OAAOuK,YAAYC,WAAWC,YAAYhJ,OAC1C,CACA,IAAMiJ,EAAc1K,OAAOuK,YAAYC,WAAWC,YAAY,GAC9D,GAAIC,EAAYC,SAAWD,EAAYC,QAAQZ,KAAM,CACnD,IAAQA,EAASW,EAAYC,QAArBZ,KACFhD,EAAU,CACdzB,IAAK,IAAF,OAAMyE,EAAKa,SAAX,WACH3D,QAAS,CACPvD,OAAQ,OAEVyD,SAAU,CACRhF,KAAM4D,KAAKC,UAAU0E,KAGzB1K,OAAOC,QAAQqH,kBAAf,OACK+C,GADL,IAEEjD,KAAMrB,KAAKC,UAAUe,Q,SAMP8D,I,mFAAf,iGACoB,QAAR,EAAAhI,gBAAA,mBAAUH,gBAAV,eAAoBI,OAAQ,IAC/BC,SAAS,wBAFlB,yCAEkD,CAAEC,OAAQ,iBAF5D,cAILsH,KAEA,IAAAhE,uBAAA,+CAAsB,WAAOC,GAAP,+EACdC,EAAkB,GACKD,EAC1BE,wBACAnF,MAAM,MACNoF,QAAO,SAACC,GAAD,OAASA,KACEC,SAAQ,SAACC,GAC5B,MAAqBA,EAAOvF,MAAM,UAAlC,qBAAOI,EAAP,KAAYoF,EAAZ,KACAN,EAAgB9E,GAAOoF,KAEnBC,EAAU,CACdzB,IAAKiB,EAAIS,KAAK1B,IACd2B,QAAS,CACPvD,OAAQ6C,EAAIS,KAAKtD,OACjBmC,QAASU,EAAIW,eACb/D,KAAMoD,EAAIS,KAAK7D,MAEjBgE,SAAU,CACRtB,QAASW,EACTrE,KAAMoE,EAAIuE,eAIdzI,QAAQtC,IAAI,MAAOgH,GACnB/G,OAAOC,QAAQqH,kBAAf,OACK+C,GADL,IAEEjD,KAAMrB,KAAKC,UAAUe,MA1BH,2CAAtB,uDANK,kBAmCE,CAAE/D,OAAQ,YAnCZ,4C,4BAsCQ6H,E,2KChFf,QAGMzE,EAAyC,2BAE/C,SAAS2E,EAAQzF,GACf,IAKIlD,EAAO,GAGX,MAR0B,uCAEciF,KAAK/B,KAI1BlD,EAAO,gBALJ,iCAEUiF,KAAK/B,KAItBlD,EAAO,YACfA,EAGT,SAAS4I,EAASC,GAChB,IAAQC,EAAgBD,EAAhBC,YAEJC,EAAW,IAMf,MALoB,YAAhBD,IAA2BC,EAAW,WACtB,cAAhBD,IAA6BC,EAAW,aACxB,WAAhBD,IAA0BC,EAAW,UAGzC,UAAUA,EAAV,2B,SAGoBC,I,mFAAf,iGACoB,QAAR,EAAAvI,gBAAA,mBAAUH,gBAAV,eAAoBI,OAAQ,IAC/BC,SAAS,sBAFlB,yCAEgD,CAAEC,OAAQ,iBAF1D,cAIL,IAAAsD,uBAAA,+CAAsB,WAAOC,GAAP,4FACdC,EAAkB,GACKD,EAC1BE,wBACAnF,MAAM,MACNoF,QAAO,SAACC,GAAD,OAASA,KACEC,SAAQ,SAACC,GAC5B,MAAqBA,EAAOvF,MAAM,UAAlC,qBAAOI,EAAP,KAAYoF,EAAZ,KACAN,EAAgB9E,GAAOoF,KAEnBC,EAAU,CACdzB,IAAKiB,EAAIS,KAAK1B,IACd2B,QAAS,CACPvD,OAAQ6C,EAAIS,KAAKtD,OACjBmC,QAASU,EAAIW,eACb/D,KAAMoD,EAAIS,KAAK7D,MAEjBgE,SAAU,CACRtB,QAASW,EACTrE,KAAMoE,EAAIuE,eAIR1I,EAAO2I,EAAQhE,EAAQzB,KAvBT,sDA0BOS,KAAKsF,MAAMtE,EAAQI,SAAShF,OAAS,GAAxD1B,EA1BY,EA0BZA,MAAOwK,EA1BK,EA0BLA,SACXxK,GAAUwK,EA3BM,sDA6BdK,EAAQN,EAASC,GA7BH,mDAgCpB5I,QAAQtC,IAAI,MAAOgH,GAEnB/G,OAAOC,QAAQqH,kBAAkB,CAC/B5D,OAAQ,OACR4B,IAAK,GAAF,OAAKc,EAAL,gBAAiBkF,GACpBzF,QAAS,CACPC,OAAQ,mBACR,eAAgB,oBAElBsB,KAAMrB,KAAKC,UAAU,CAAE5D,OAAMgF,KAAM6D,EAAQM,gBAzCzB,4CAAtB,uDAJK,kBAgDE,CAAEvI,OAAQ,YAhDZ,4C,4BAmDQoI,E,4KClFf,YACA,YACA,YAIA,EAAiDpL,OAAOC,QAAhDuL,EAAR,EAAQA,aAAczL,EAAtB,EAAsBA,IAAKuH,EAA3B,EAA2BA,kBAE3B,SAASmE,EAAenG,GACtB,IAEIoG,EAFEC,EAAU,GACVC,GAAStG,GAAO,IAAIhE,MAAM,KAGhC,GAAIsK,EAAMnK,QAAU,EAClB,OAAOkK,EAET,IAAME,EAASD,EAAM,GAAGtK,MAAM,KAC1B8H,EAAI,EACR,IAAKA,KAAKyC,EACRH,EAAQG,EAAOzC,GAAG9H,MAAM,KACxBqK,EAAQG,mBAAmBJ,EAAM,KAAOI,mBAAmBJ,EAAM,IAAM,IAGzE,OAAOC,EAGT,SAASI,EAAc5J,GACrB,IACM6J,EAAS,CACbC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,2BAAM,IACNC,qBAAK,IACLC,qBAAK,KAEDC,EATe,2EASanH,KAAKjD,GACjCqK,EAAiBD,EAAa,GAC9BE,EAASC,WAAWF,GACpBG,EAAaJ,EAAa,GAAGK,OACnC,OAAIZ,EACKa,KAAKC,MAAML,EAAST,EAAOW,IAE7BF,EAGT,SAASM,EAAOC,GACd,GAAsB,IAAlBA,EAAOvL,OAAc,OAAO,EAEhCuL,EAAOC,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,KAE1B,IAAMC,EAAOP,KAAKQ,MAAML,EAAOvL,OAAS,GAExC,OAAIuL,EAAOvL,OAAS,EAAUuL,EAAOI,IAE7BJ,EAAOI,EAAO,GAAKJ,EAAOI,IAAS,EAG7C,IAAME,EAAa,yFAEbC,EAAY,CAAC,OAAQ,cAAe,eAAgB,eAAgB,gBACpEC,EAAe,CAAC,SAAU,QAC5BC,EAAQ,G,SAEUC,I,mFAAf,mHACoB,QAAR,EAAA7K,gBAAA,mBAAUH,gBAAV,eAAoBI,OAAQ,IAC/BC,SAAS,eAFlB,yCAEyC,CAAEC,OAAQ,iBAFnD,OAIC2K,EAAU9K,SAAS+E,cAAc,OACjC5E,EAASH,SAAS+E,cAAc,OAChCgG,EAAS/K,SAAS+E,cAAc,OAChCiG,EAAahL,SAAS+E,cAAc,QACpCkG,EAAajL,SAAS+E,cAAc,WAC/BxE,UAAY,aACvBwK,EAAO9F,YAAY+F,GACnBD,EAAO9F,YAAYgG,GACnBA,EAAW7D,iBAAiB,SAA5B,6BAAqC,0FAC7B8D,EAAYN,EAAMpN,KAAI,SAAC2N,GAAD,OAAWA,EAAMC,KAAK,SAAOA,KAAK,MAC9DC,UAAUC,UAAUC,UAAUL,GAFK,4CAIrCJ,EAAQhG,MAAM0G,OAAS,MACvBV,EAAQhG,MAAM2G,SAAW,QACzBX,EAAQhG,MAAM4G,MAAQ,OACtBZ,EAAQhG,MAAM6G,OAAS,OACvBb,EAAQhG,MAAM8G,WAAa,SAC3BzL,EAAO2E,MAAM+G,WAAa,QAC1B1L,EAAO2E,MAAM2G,SAAW,QACxBtL,EAAO2E,MAAM6G,OAAS,OACtBxL,EAAO2E,MAAMgH,KAAO,OACpB3L,EAAO2E,MAAMiH,QAAU,OACvB5L,EAAO2E,MAAMkH,aAAe,OAC5B7L,EAAO2E,MAAM8G,WAAa,SAC1Bb,EAAOjG,MAAM+G,WAAa,QAC1Bd,EAAOjG,MAAMmH,SAAW,MACxBlB,EAAOjG,MAAM2G,SAAW,QACxBV,EAAOjG,MAAM6G,OAAS,OACtBZ,EAAOjG,MAAMgH,KAAO,OACpBf,EAAOjG,MAAMoH,UAAY,mBACzBnB,EAAOjG,MAAMiH,QAAU,OACvBhB,EAAOjG,MAAMkH,aAAe,OAC5BjB,EAAOjG,MAAM8G,WAAa,SACpBO,EAAUnM,SAAS+E,cAAc,UACjCqH,EAAUpM,SAAS+E,cAAc,UACjCsH,EAAUrM,SAAS+E,cAAc,UACvCqH,EAAQ7L,UAAY,iBACpB4L,EAAQ5L,UAAY,IACpB8L,EAAQ9L,UAAY,WACd+L,EA3CD,+CA2CW,WAAOC,GAAP,8HACdpM,EAAO2E,MAAM8G,WAAa,UAC1BzL,EAAO6E,UAAY,yLAOfwH,EAAQ,GATE,SAWRC,EAAWzM,SAASH,SAASe,SAI3B8L,IAAkB1M,SAAS2M,cAAc,2CAC/CzP,EAAIc,MAAM,CAAgC0O,gBAAeD,cACjBC,EAjB5B,oBAkBJE,EAAI5M,SAAS2M,cAAc,qCACjCzP,EAAIc,MAAM4O,IACNA,IAAKA,EAAEC,OApBD,iBAqBR3P,EAAIc,MAAM4O,EAAEC,QACZJ,EAAW,IAAI/J,IAAIkK,EAAEC,QAAQjM,SAtBrB,8BAwBRT,EAAO6E,WAAa,iIACd,8CAzBE,eA6BRyH,EAASvM,SAAS,WACpBuC,EAAMgK,EAASK,QAAQ,YAAa,WAE9BC,EAAY,qCAAqCxK,KAAK0G,mBAAmBwD,IAC/EhK,EAAM,IAAH,OAAOsK,EAAU,GAAjB,YAAuBA,EAAU,GAAjC,WAEL7P,EAAIc,MAAM,CAAEyE,OAAO,KAnCP,UAoCkBkG,EAC3BjJ,MAAM+C,GACN9C,MAAK,SAAC1B,GAAD,OAASA,EAAIqB,UAClBpB,OAAM,SAACC,GAEN,MADAjB,EAAIU,MAAM,CAAEO,QACNA,KAzCE,QAoCN6O,EApCM,OA2CZ9P,EAAIc,MAAM,CAAEgP,oBA3CA,EA4CMA,EAAgBC,MAAM,+CAAiD,GA5C7E,qBA4CHC,EA5CG,KA6CNC,EAAoBjK,KAAKsF,MAAM0E,GAC/BE,EAAWD,EAAkBC,SAASC,wBAC5CC,EAAYF,EAASG,WACrB,IACE9I,EAAkB,CAEhB5D,OAAQ,MACR4B,IAAK,wDAAF,OAA0D6K,GAC7DtK,QAAS,CACPC,OAAQ,mBACR,eAAgB,sBAGpB,MAAOuK,GACPtQ,EAAIc,MAAMwP,GAEZC,EAAQL,EAASK,MACjBC,EAAO,GAAH,OAAMN,EAASO,WAAf,WACEC,EAAcR,EAASQ,aAAe,IACtCC,EAAqB,iBAAiBtL,KAAKqL,MAE/CE,EAAQD,EAAmB,IAEvBE,GAAO,aAAIZ,EAAmB,+CAAgD,IAC9Ea,GAAW,aAAKD,GAAM,SAAC/H,GAAD,OAAS,aAAIA,EAAK,wBAAwB,MACtEiI,GAAU,aACRD,EACA,0IACA,MAEIE,GAAW,aACfF,EACA,oIACA,IAEFxB,EAAQ0B,EAAS1Q,KAAI,SAACkQ,GACpB,IAAMS,GAAc,aAAIT,EAAM,sCAE9B,GAAIS,EAAYjO,SAAS,UAAYiO,EAAYjO,SAAS,oCACxD,OAAOiO,EAET,IAAQC,EAAMxF,EAAeuF,GAArBC,EAER,OAAKA,GACID,MAILE,GAAkB,aACtBlB,EACA,+DACA,IACAL,QAAQ,IAAK,QAEbwB,EAAcpF,EAAcmF,IAnGlB,yDAsGZ7O,QAAQrB,IAAR,MACAgC,EAAO6E,WAAa,0HAvGR,mBAwGL,GAxGK,uKA2GNuJ,EAAQrL,KAAKC,UAAUwF,EAAa6F,MAAM1L,IAAI,sBAC9C2L,EAAoBvL,KAAKsF,MAAM+F,IACrC,aAAIE,EAAmB,YAAa,MAE9BC,EAAc,GACpBvO,EAAO6E,WAAP,gLAA2DuH,EAA3D,+CAhHY,cAkHJoC,EAAa,CACjBC,QAASH,GAEPI,EACFF,EAAWG,aAAeD,GAE1BF,EAAWI,SAAWzB,EACtBqB,EAAWK,OAAS,kBAEtB9R,EAAIc,MAAM2Q,GA3HA,UA4HQjP,MAAM+K,EAAY,CAClC5J,OAAQ,OACRC,KAAM,cACNkC,QAAS,CACP,eAAgB,mBAChB,kBAAmB,EACnB,gBAAiB2F,EAAa6F,MAAM1L,IAAI,wBACxC,oBAAqB6F,EAAa6F,MAAM1L,IAAI,gBAC5C,WAAY,0BACZ,wBAAyB6F,EAAa6F,MAAM1L,IAAI,iCAChD,2BAA4B6F,EAAa6F,MAAM1L,IAAI,qCAErDxC,KAAM4C,KAAKC,UAAUwL,KACpBhP,MAAK,SAAC1B,GAAD,OAASA,EAAIgR,UAzIX,WA4HJhR,EA5HI,OA0INiR,EAAQ,IACNnB,GAAO,aAAI9P,EAAK,kDAEdkR,GAAW,aAAKpB,GAAM,SAAC/H,GAAD,OAAS,aAAIA,EAAK,wBAAwB,MACtEkJ,GAAQ,aACNC,EACA,2GAGFD,GAAQ,aAAIjR,EAAK,gFAEfmR,GAAO,EACXF,EAAMnL,SAAQ,SAACtG,GAMb,KALAoR,GAAoB,aAClBpR,EACA,0EACA,OAEF,CACA,IAAM4R,GAAgB,aAAI5R,EAAM,kDAChC,GAAI4R,EAAe,CACjB,IAAMC,GAAgB,aAAI7R,EAAM,8CAChC,IAAK6R,EAAe,KAAM,iBAC1B,IAAMC,EAAS,GAAH,OAAO7E,GACL,IAAV6B,GACFgD,EAAOC,QAAQ,GAEH,IAAVjD,GACFgD,EAAOC,QAAQ,IAGdD,EAAOE,MAAK,SAACC,GAAD,OAAQL,EAAcnP,SAASwP,OAC5C/E,EAAa8E,MAAK,SAACC,GAAD,OAAQL,EAAcnP,SAASwP,QAEjDN,GAAO,GAELG,EAAOE,MAAK,SAACC,GAAD,OAAQL,EAAcnP,SAASwP,OAC7ChB,EAAYhI,KAAKiJ,OAAOL,EAAcxC,QAAQ,OAAQ,YAIxDsC,EAnLM,wDAoLHP,EApLG,wBAqLNe,EAA+D,IAApD5F,KAAKC,MAAMD,KAAKC,MAAMC,EAAOwE,IAAgB,MAAc,GAC5EvO,EAAO6E,WAAa,yEACpB4F,EAAQ,CAAC,CAAC6C,EAAOC,EAAMI,GAAS,GAAvB,WAA+BtB,EAAMpB,KAAK,MAA1C,KAAoD6C,GAAW,GAAI,GAAI,GAAIK,GAAe,GAAIsB,IACvG5E,EAAWhG,UAAX,0CAA0DyI,EAA1D,yDACkCC,EADlC,0DAEmCI,GAAS,GAF5C,kEAG2CtB,EAAMpB,KAAK,MAHtD,4DAIqC6C,GAAW,GAJhD,mKAOyCK,GAAe,GAPxD,6DAQsCsB,EARtC,UASA7E,EAAOjG,MAAM8G,WAAa,UAC1B1O,EAAIc,MAAM4M,EAAO,CACf6C,QACAC,OACAI,QACAG,UACAzB,QACA8B,cACAsB,aAzMU,iHA4MZpQ,QAAQrB,IAAR,MACAgC,EAAO6E,WAAa,0HA7MR,kEA3CX,sDA2PLoH,EAAQhF,iBAAiB,QAASkF,EAAQuD,KAAK/I,KAAM,IACrDqF,EAAQ/E,iBAAiB,QAASkF,EAAQuD,KAAK/I,KAAM,IACrDuF,EAAQjF,iBAAiB,QAASkF,EAAQuD,KAAK/I,KAAM,IACrDgE,EAAQ7F,YAAYmH,GACpBtB,EAAQ7F,YAAYkH,GACpBrB,EAAQ7F,YAAYoH,GACpBvB,EAAQ7F,YAAY9E,GACpB2K,EAAQ7F,YAAY8F,GACpB/K,SAASoH,iBAAiB,sBAAsB,SAACoG,GAC/C,IAAMf,EAAWzM,SAASH,SAASe,SAC7BkP,EAAmB,OAAbrD,EACNsD,EAAyB,aAAbtD,EACZuD,EAAsB,UAAbvD,EACTwD,EAAYxD,EAASjM,WAAW,OAChC0P,EAAkBzD,EAASjM,WAAW,aACtC2P,EAAe1D,EAASjM,WAAW,UACnCkM,IAAkB1M,SAAS2M,cAAc,2CAC3CmD,GAAOC,GAAaC,GAAUC,GAAaC,GAAmBC,GAAgBzD,GAChFxP,EAAIc,MAAM,CAAE0O,kBACZ5B,EAAQhG,MAAM8G,WAAa,UAC3BzL,EAAO2E,MAAM8G,WAAa,SAC1Bb,EAAOjG,MAAM8G,WAAa,UAE1Bd,EAAQhG,MAAM8G,WAAa,YAG/BzO,OAAO0I,OAAS,WACd7F,SAASM,KAAK2E,YAAY6F,IAtRvB,kD,4BA0RQD,E,+JC7Vf,UACA,YAEA,SAEauF,EAAO,+CAAG,0FACflL,EAAOlF,SAAS+E,cAAc,OACpCsL,UAASC,OAAOC,UAAMxL,cAAcyL,cAAatL,GACjDlF,SAASM,KAAK2E,YAAYC,GAHL,2CAAH,qD,kBAMLkL,E,gNCXf,GADA,UACA,QACA,U,gdAEaK,E,0CACX,WAAYC,GAAO,mCACjB,cAAMA,IACDC,MAAQ,CAAEC,QAAS,GAFP,E,yCAKnB,WACE9J,KAAK+J,UAAS,SAACF,GAAD,MAAY,CACxBC,QAASD,EAAMC,QAAU,Q,+BAI7B,WAAoB,WAClB9J,KAAKgK,SAAWC,aAAY,kBAAM,EAAKC,SAAQ,O,kCAGjD,WACEC,cAAcnK,KAAKgK,Y,oBAGrB,WACE,OAAO,+CAAehK,KAAK6J,MAAMC,a,GArBVL,UAAMW,W,UAyBjC,IAAMpM,EAAQ,CACZ2G,SAAU,QACVD,OAAQ,MACRG,OAAQ,EACRG,KAAM,EACND,WAAY,OACZsF,MAAO,QACPC,MAAO,QAGIZ,EAAa,SAAC,GAAD,EAAGa,SAAH,OACxB,+BAAKvM,MAAOA,GACV,wBAAC,EAAAwM,UAAD,KACE,wBAAC,EAAAC,IAAD,KACE,wBAAC,EAAAC,IAAD,CAAKC,GAAI,GACP,wBAAChB,EAAD,OAEF,wBAAC,EAAAe,IAAD,CAAKC,GAAI,GACP,+BAAKlM,IAAI,wD,qBAOJiL,E,8FCtDf,mLACA,mLACA,mLACA,mLACA,oL,grCCAA,IAAQtT,EAAQC,OAAOC,QAAfF,IAED,SAASwU,IAoBhB,IAAIC,EAAc,CAChB,GAAM,iCACN,GAAM,cACN,GAAM,gBACN,GAAM,cACN,GAAM,YACN,GAAM,oBACN,GAAM,6CACN,GAAM,iBACN,GAAM,QACN,GAAM,UACN,GAAM,uCACN,GAAM,2BACN,GAAM,UACN,GAAM,SACN,GAAM,uBACN,QAAS,6CACT,GAAM,aACN,GAAM,eACN,QAAS,gBAEPC,EAAiB,CACnB,GAAM,+FACN,GAAM,yBACN,GAAM,6BACN,GAAM,sBACN,GAAM,0BACN,GAAM,mCACN,GAAM,2GACN,GAAM,2BACN,GAAM,kBACN,GAAM,uBACN,GAAM,uFACN,GAAM,2DACN,GAAM,qBACN,GAAM,uBACN,GAAM,uCACN,QAAS,+FACT,GAAM,mBACN,GAAM,iCACN,QAAS,kCAGPC,EAAW7R,SAAS8R,gBAAgBC,aAAa,QAG/CC,EAlEuB,WAqE3B,aAA8B,IAAlBC,EAAkB,uDAAJ,IAAI,qBAC1BnL,KAAKmL,YAAcA,EACnBnL,KAAKoL,YAAc,GAvEI,yDAyE3B,WAAiC,IAAZC,EAAY,wDAEzBC,EAAcT,EAAYE,GAAaF,EAAYE,GAAYF,EAAW,GAC1EU,EAAeT,EAAeC,GAAaD,EAAeC,GAAYD,EAAc,GAEpFU,EAAkBtS,SAAS+E,cAAc,UAC7CuN,EAAgBlN,aAAa,KAAM,WAAa0B,KAAKmL,aACrDK,EAAgBC,UAAUC,IAAI,YACtBF,EAAgBG,YAApBN,EAAkC,IAAMC,EAAa,YACtB,IAAMA,EAAa,YAEtDE,EAAgBlN,aAAa,oBAAqBiN,GAElD,IAAIK,EAAM,YAAc5L,KAAKmL,YAS7B,OARAK,EAAgBlL,iBAAiB,SAAS,SAAUuL,GAChD,IAAIC,EAAO5S,SAAS6S,eAAeH,GACT,QAAtBE,EAAK9N,MAAMgO,QACXF,EAAK9N,MAAMgO,QAAU,QAErBF,EAAK9N,MAAMgO,QAAU,UAGtBR,IA/FgB,wBAiG3B,SAAW7P,GAGP,IAAIsQ,EAAU/S,SAAS+E,cAAc,OACrCgO,EAAQ3N,aAAa,KAAM,YAAc0B,KAAKmL,aAC9Cc,EAAQ3N,aAAa,QAAS,kBAE9B,IAAI4N,EAAgBrB,EAAYE,GAAaF,EAAYE,GAAYF,EAAW,GAE5EsB,EAAMjT,SAAS+E,cAAc,OACjCkO,EAAIC,UAAY,iBAChB,IAAI7I,EAAIrK,SAAS+E,cAAc,KAC/BsF,EAAEpK,KAAO,2BAA6BwC,EAAM,wBAC5C4H,EAAE/K,KAAO0T,EAAe,OACxB3I,EAAE8I,OAAS,SACXF,EAAIhO,YAAYoF,GAChB0I,EAAQ9N,YAAYgO,IAEpBA,EAAMjT,SAAS+E,cAAc,QACzBmO,UAAY,kBAChB7I,EAAIrK,SAAS+E,cAAc,MACzB9E,KAAO,2BAA6BwC,EAAM,wBAC5C4H,EAAE/K,KAAO0T,EAAe,OACxB3I,EAAE8I,OAAS,SACXF,EAAIhO,YAAYoF,GAChB0I,EAAQ9N,YAAYgO,IAEpBA,EAAMjT,SAAS+E,cAAc,QACzBmO,UAAY,kBAChB7I,EAAIrK,SAAS+E,cAAc,MACzB9E,KAAO,2BAA6BwC,EAAM,wBAC5C4H,EAAE/K,KAAO0T,EAAe,gBACxB3I,EAAE8I,OAAS,SACXF,EAAIhO,YAAYoF,GAChB0I,EAAQ9N,YAAYgO,IAEpBA,EAAMjT,SAAS+E,cAAc,QACzBmO,UAAY,kBAChB7I,EAAIrK,SAAS+E,cAAc,MACzB9E,KAAO,2BAA6BwC,EAAM,yBAC5C4H,EAAE/K,KAAO0T,EAAe,OACxB3I,EAAE8I,OAAS,SACXF,EAAIhO,YAAYoF,GAChB0I,EAAQ9N,YAAYgO,IAEpBA,EAAMjT,SAAS+E,cAAc,QACzBmO,UAAY,kBAChB7I,EAAIrK,SAAS+E,cAAc,MACzB9E,KAAO,2BAA6BwC,EAAM,yBAC5C4H,EAAE/K,KAAO0T,EAAe,QACxB3I,EAAE8I,OAAS,SACXF,EAAIhO,YAAYoF,GAChB0I,EAAQ9N,YAAYgO,IAEpBA,EAAMjT,SAAS+E,cAAc,QACzBmO,UAAY,kBAChB7I,EAAIrK,SAAS+E,cAAc,MACzB9E,KAAO,2BAA6BwC,EAAM,yBAC5C4H,EAAE/K,KAAO0T,EAAe,QACxB3I,EAAE8I,OAAS,SACXF,EAAIhO,YAAYoF,GAChB0I,EAAQ9N,YAAYgO,IAEpBA,EAAMjT,SAAS+E,cAAc,QACzBmO,UAAY,kBAChB7I,EAAIrK,SAAS+E,cAAc,MACzB9E,KAAO,2BAA6BwC,EAAM,yBAC5C4H,EAAE/K,KAAO0T,EAAe,OACxB3I,EAAE8I,OAAS,SACXF,EAAIhO,YAAYoF,GAChB0I,EAAQ9N,YAAYgO,IAEpBA,EAAMjT,SAAS+E,cAAc,QACzBmO,UAAY,kBAChB7I,EAAIrK,SAAS+E,cAAc,MACzB9E,KAAO,2BAA6BwC,EAAM,yBAC5C4H,EAAE/K,KAAO0T,EAAe,OACxB3I,EAAE8I,OAAS,SACXF,EAAIhO,YAAYoF,GAChB0I,EAAQ9N,YAAYgO,IAEpBA,EAAMjT,SAAS+E,cAAc,QACzBmO,UAAY,kBAChB7I,EAAIrK,SAAS+E,cAAc,MACzB9E,KAAO,2BAA6BwC,EAAM,wBAC5C4H,EAAE/K,KAAO0T,EAAe,cACxB3I,EAAE8I,OAAS,SACXF,EAAIhO,YAAYoF,GAChB0I,EAAQ9N,YAAYgO,IAEpBA,EAAMjT,SAAS+E,cAAc,QACzBmO,UAAY,kBAChB7I,EAAIrK,SAAS+E,cAAc,MACzB9E,KAAO,2BAA6BwC,EAAM,wBAC5C4H,EAAE/K,KAAO0T,EAAe,cACxB3I,EAAE8I,OAAS,SACXF,EAAIhO,YAAYoF,GAChB0I,EAAQ9N,YAAYgO,IAEpBA,EAAMjT,SAAS+E,cAAc,QACzBmO,UAAY,kBAChB7I,EAAIrK,SAAS+E,cAAc,MACzB9E,KAAO,2BAA6BwC,EAAM,wBAC5C4H,EAAE/K,KAAO0T,EAAe,cACxB3I,EAAE8I,OAAS,SACXF,EAAIhO,YAAYoF,GAChB0I,EAAQ9N,YAAYgO,IAEpBA,EAAMjT,SAAS+E,cAAc,QACzBmO,UAAY,kBAChB7I,EAAIrK,SAAS+E,cAAc,MACzB9E,KAAO,2BAA6BwC,EAAM,wBAC5C4H,EAAE/K,KAAO0T,EAAe,eACxB3I,EAAE8I,OAAS,SACXF,EAAIhO,YAAYoF,GAChB0I,EAAQ9N,YAAYgO,IAEpBA,EAAMjT,SAAS+E,cAAc,QACzBmO,UAAY,kBAChB7I,EAAIrK,SAAS+E,cAAc,MACzB9E,KAAO,2BAA6BwC,EAAM,wBAC5C4H,EAAE/K,KAAO0T,EAAe,aACxB3I,EAAE8I,OAAS,SACXF,EAAIhO,YAAYoF,GAChB0I,EAAQ9N,YAAYgO,IAEpBA,EAAMjT,SAAS+E,cAAc,QACzBmO,UAAY,kBAChB7I,EAAIrK,SAAS+E,cAAc,MACzB9E,KAAO,2BAA6BwC,EAAM,yBAC5C4H,EAAE/K,KAAO0T,EAAe,aACxB3I,EAAE8I,OAAS,SACXF,EAAIhO,YAAYoF,GAChB0I,EAAQ9N,YAAYgO,GAEpB,IAAIG,EAAO,YAActM,KAAKmL,YAC1BoB,EAAO,WAAavM,KAAKmL,YAc7B,OAbAjS,SAASM,KAAK8G,iBAAiB,SAAS,SAAUuL,GAE9C,IAAIW,EAAIX,EAAGQ,OACP5R,EAAK+R,EAAEvB,aAAa,MACpBpN,EAAM2O,EAAEvB,aAAa,SAEnBxQ,IAAQ8R,GAAS9R,IAAQ6R,GAAUzO,GAAOA,EAAIzE,SAAS,oBACzDF,SAAS6S,eAAeO,GAAMtO,MAAMgO,QAAU,WAItDC,EAAQR,UAAUC,IAAI,aAEfO,IAvPgB,2BA0P3B,WACI,IAAIQ,EAAMvT,SAAS6S,eAAe,WAAa/L,KAAKmL,aACtC,OAARsB,GACFA,EAAIC,SAER,IAAIC,EAAMzT,SAAS6S,eAAe,YAAc/L,KAAKmL,aACvC,OAARwB,GACFA,EAAID,WAjQe,gCAqQ3B,SAAmBE,GAGf,QAFU1T,SAAS6S,eAAe,YAAc/L,KAAKmL,aACtCZ,SAAS,GAAGA,SAAS,GAAGpR,KAC9BC,SAASwT,KAxQK,4BA+Q3B,WACI,IAAIH,EAAMvT,SAAS6S,eAAe,WAAa/L,KAAKmL,aAEpD,OAAa,OADHjS,SAAS6S,eAAe,YAAc/L,KAAKmL,cACtB,OAARsB,MAlRA,KA2RzBI,EAAY,GAEhB,GAAIxW,OAAO0C,SAASI,KAAKC,SAAS,YAAa,CAC7C,IAAIoK,EAAI,IAAI0H,EACZ2B,EAAUjN,KAAK4D,GAEfA,EAAEsJ,UAAa,WACX,IAAIF,EAAW5M,KAAKoL,YAEhB2B,EAAM7T,SAAS6E,qBAAqB,QAAQ,GAAGiP,WAAWA,WAAWA,WAAWzC,SAAS,GAAGyC,WAAWzC,SAAS,GACpH,GAAoB,qBAARwC,GAAiC,OAARA,EAArC,CAGA,GADY/M,KAAKiN,iBACN,CAGP,GAFejN,KAAKkN,mBAAmBN,GAGnC,OAEA5M,KAAKmN,gBAMb,IAAI3B,EAAkBxL,KAAKoN,uBAC3B5B,EAAgBxN,MAAMqP,SAAW,OACjC7B,EAAgBxN,MAAMiH,QAAU,UAChC8H,EAAIO,aAAa9B,EAAiBuB,EAAIC,YACtC,IAAIO,EAAwBvN,KAAKwN,WAAWZ,GAC5CW,EAAsBvP,MAAMqP,SAAW,OACvC7B,EAAgBrN,YAAYoP,KAE7BxE,KAAKvF,QAEL,GAAInN,OAAO0C,SAASI,KAAKC,SAAS,cAAe,CACpD,IAAIoK,EAAI,IAAI0H,EACZ2B,EAAUjN,KAAK4D,GAEfA,EAAEsJ,UAAa,WACX,IAAIF,EAAW5M,KAAKoL,YAEpB,GADYpL,KAAKiN,iBACN,CAEP,GADejN,KAAKkN,mBAAmBN,GAEnC,OAEA5M,KAAKmN,gBAKb,GADajU,SAAS6E,qBAAqB,SAChCjG,OAAS,EAAG,CAEnB,IAAI2V,EAAgBvU,SAAS2M,cAAc,sDACvC6H,EAAYxU,SAAS2M,cAAc,wCAEnC2F,EAAkBxL,KAAKoN,uBACvBG,EAAwBvN,KAAKwN,WAAWZ,GAC5C,GAAwB,OAAlBa,EAAyB,CAC3B,IAAIhD,EAAMgD,EAAclD,SAAS,GAAGA,SAAS,GACzCoD,EAAWlD,EAAIF,SAAS,GAE5BE,EAAIzM,MAAMgO,QAAU,OACpBvB,EAAIzM,MAAM4P,cAAgB,MAC1BD,EAAS3P,MAAMsM,MAAQ,OACvBG,EAAI6C,aAAa9B,EAAiBmC,GAClCnC,EAAgBrN,YAAYoP,QAE3B,GAAoB,OAAdG,EAAqB,CAC5B,IAAIjD,EAAMiD,EAAUnD,SAAS,GACzBsD,EAAOpD,EAAIF,SAAS,GAExBE,EAAI6C,aAAa9B,EAAiBqC,GAClCrC,EAAgBrN,YAAYoP,MAGrCxE,KAAKvF,QAGL,GAAInN,OAAO0C,SAASI,KAAKC,SAAS,cAAe,CACpD,IAAIoK,EAAI,IAAI0H,EACZ2B,EAAUjN,KAAK4D,GAEfA,EAAEsJ,UAAa,WACX,IAAIF,EAAW5M,KAAKoL,YAGpB,GADYpL,KAAKiN,iBACN,CAEP,GADejN,KAAKkN,mBAAmBN,GAEnC,OAEA5M,KAAKmN,gBAIb,IAAIW,EAAc5U,SAAS2M,cAAc,oCACzC,GAA4B,qBAAhBiI,GAAiD,OAAhBA,EAA7C,CACA,IAAIC,EAAQD,EAAY/P,qBAAqB,SACzCiQ,EAAWF,EAAY/P,qBAAqB,UAChD,GAAKgQ,EAAMjW,OAAS,GAAOkW,EAASlW,OAAS,EAAI,CAC7C,IAAI2S,EAAMqD,EAAYvD,SAAS,GAC/BE,EAAIzM,MAAMiQ,SAAW,UACrB,IAAIzC,EAAkBxL,KAAKoN,uBAC3B5B,EAAgBxN,MAAMqP,SAAW,SACjC5C,EAAItM,YAAYqN,GAChB,IAAI+B,EAAwBvN,KAAKwN,WAAWZ,GAC5CW,EAAsBvP,MAAMqP,SAAW,SACvC7B,EAAgBrN,YAAYoP,MAEjCxE,KAAKvF,QAEL,GAAInN,OAAO0C,SAASI,KAAKC,SAAS,kBAAmB,CACxD,IAAI8U,EAAuB,IAAIhD,EAAa,SAC5C2B,EAAUjN,KAAKsO,GAEfA,EAAqBpB,UAAa,WAC9B,IAAIF,EAAW5M,KAAKoL,YAEhB+C,EAAiBjV,SAASkV,uBAAuB,sBAAsB,GAAG7D,SAAS,GAGvF,KAF+C,qBAAnB4D,MAAwD,OAAnBA,GAE/C,CAGd,GAFAvB,EAAW1T,SAASkV,uBAAuB,sBAAsB,GAAG7D,SAAS,GAAGpR,KACpE6G,KAAKiN,iBACN,CAEP,GADejN,KAAKkN,mBAAmBN,GAEnC,OAEA5M,KAAKmN,gBAMb,IAAI3B,EAAkBxL,KAAKoN,qBAAqB/B,IAAK,GACrDnS,SAASkV,uBAAuB,sBAAsB,GAAGjQ,YAAYqN,GACrE,IAAI+B,EAAwBvN,KAAKwN,WAAWZ,GAC5CW,EAAsBvP,MAAMqQ,IAAM,OAClCd,EAAsBvP,MAAM6G,OAAS,OACrC2G,EAAgBrN,YAAYoP,KAGjCxE,KAAKmF,GAER,IAAII,EAAsB,IAAIpD,EAAa,QAC3C2B,EAAUjN,KAAK0O,GAEfA,EAAoBxB,UAAa,WAC7B,IAAIF,EAAW5M,KAAKoL,YAEhBmD,EAAQrV,SAASkV,uBAAuB,mBAAmB,GAG/D,KAFqC,qBAAVG,MAAsC,OAAVA,GAEtC,CAGb,GAFArV,SAAS6S,eAAe,WAAWxB,SAAS,GAAGA,SAAS,GAAGA,SAAS,GAAGvM,MAAMiQ,SAAW,UAC5EjO,KAAKiN,iBACN,CAGP,GAFejN,KAAKkN,mBAAmBN,GAGnC,OAEA5M,KAAKmN,gBAMb,IAAI3B,EAAkBxL,KAAKoN,uBAC3BmB,EAAMpQ,YAAYqN,GAClB,IAAI+B,EAAwBvN,KAAKwN,WAAWZ,GAC5CpB,EAAgBrN,YAAYoP,KAGjCxE,KAAKuF,QAEL,GAAIjY,OAAO0C,SAASI,KAAKC,SAAS,cAAe,CAEpD,IAAIoK,EAAI,IAAI0H,EAAa,eACzB2B,EAAUjN,KAAK4D,GAEfA,EAAEsJ,UAAa,WACX,IAAIF,EAAW5M,KAAKoL,YAEhBX,EAAMvR,SAASkV,uBAAuB,yBAAyB,GACnE,GAAoB,qBAAR3D,GAAiC,OAARA,EAArC,CAGA,GADYzK,KAAKiN,iBACN,CAEP,GADejN,KAAKkN,mBAAmBN,GAEnC,OAEA5M,KAAKmN,gBAMb,IAAI3B,EAAkBxL,KAAKoN,uBAE3B3C,EAAIzM,MAAMiQ,SAAW,UACrBxD,EAAI6C,aAAa9B,EAAiBf,EAAIF,SAAS,IAC/C,IAAIgD,EAAwBvN,KAAKwN,WAAWZ,GAE5CW,EAAsBvP,MAAMgH,KAAO,OACnCuI,EAAsBvP,MAAM4G,MAAQ,MACpC4G,EAAgBrN,YAAYoP,KAE7BxE,KAAKvF,GAGR,IAAIgL,EAAI,IAAItD,EAAa,SACzB2B,EAAUjN,KAAK4O,GAEfA,EAAE1B,UAAa,WACX,IAAIF,EAAW5M,KAAKoL,YAGhBX,EAAMvR,SAASkV,uBAAuB,qCAAqC,GAC/E,GAAoB,qBAAR3D,GAAiC,OAARA,GAChCmC,EAASxT,SAAS,SAAvB,CAGA,GADY4G,KAAKiN,iBACN,CAEP,GADejN,KAAKkN,mBAAmBN,GAEnC,OAEA5M,KAAKmN,gBAMb,IAAI3B,EAAkBxL,KAAKoN,uBAG3B3C,EAAIzM,MAAMiQ,SAAW,UACrBxD,EAAIzM,MAAMmH,SAAW,OACrBsF,EAAIzM,MAAMgO,QAAU,OACpBvB,EAAIzM,MAAMyQ,eAAiB,gBAC3BhE,EAAIzM,MAAMqQ,IAAM,OAChB5D,EAAItM,YAAYqN,GAChB,IAAI+B,EAAwBvN,KAAKwN,WAAWZ,GAC5CW,EAAsBvP,MAAMgH,KAAO,OACnCuI,EAAsBvP,MAAM4G,MAAQ,MACpC4G,EAAgBrN,YAAYoP,KAE7BxE,KAAKyF,QAIL,GAAInY,OAAO0C,SAASI,KAAKC,SAAS,aAAc,CACnD,IAAIoK,EAAI,IAAI0H,EACZ2B,EAAUjN,KAAK4D,GAEfA,EAAEsJ,UAAa,WACX,IAAIF,EAAW5M,KAAKoL,YAIpB,GAAKwB,EAASxT,SAAS,WAAcwT,EAASxT,SAAS,QAAvD,CAMA,GADY4G,KAAKiN,iBACN,CAEP,GADejN,KAAKkN,mBAAmBN,GAEnC,OAEA5M,KAAKmN,gBAIb,IAAIuB,EAAYxV,SAAS2M,cAAc,2CAEvC,KAD6C,qBAAd6I,MAA8C,OAAdA,GAC/D,CACA,IAAIC,EAAeD,EAAU1B,WAE7B,KADmD,qBAAjB2B,MAAoD,OAAjBA,GACrE,CAEA,IAAInD,EAAkBxL,KAAKoN,uBAC3BsB,EAAUvQ,YAAYqN,GACtB,IAAI+B,EAAwBvN,KAAKwN,WAAWZ,GAC5CpB,EAAgBxN,MAAMqP,SAAW,SACjC7B,EAAgBxN,MAAM4Q,WAAa,MACnCpD,EAAgBxN,MAAMiH,QAAU,UAChCsI,EAAsBvP,MAAMqP,SAAW,SACvCE,EAAsBvP,MAAMgH,KAAO,OACnCuI,EAAsBvP,MAAM4G,MAAQ,MACpC4G,EAAgBrN,YAAYoP,UA9BxBvN,KAAKmN,iBA+BVpE,KAAKvF,QAGL,GAAInN,OAAO0C,SAASI,KAAKC,SAAS,eAAgB,CACrD,IAAIoK,EAAI,IAAI0H,EACZ2B,EAAUjN,KAAK4D,GAEfA,EAAEsJ,UAAa,WACX,IADuB,EACnBF,EAAW5M,KAAKoL,YAMhByD,EAAc,KAPK,IAMZ3V,SAAS6E,qBAAqB,YANlB,IAQvB,2BAAsB,KAAb+Q,EAAa,QAClBpW,QAAQtC,IAAI0Y,EAAI9B,WAAWA,WAAWA,YACwB,GAA1D8B,EAAI9B,WAAWA,WAAWA,WAAW+B,oBACrCF,EAAcC,EAAI9B,WAAWA,WAAWA,aAXzB,8BAgBvB,GAAoB,SAAhB6B,EAAJ,CAEA,IAAIN,EAAQM,EAAYtE,SAAS,GACjC,GAAqB,qBAAVgE,EAAX,CACA,IAAIS,EAAUT,EAAMU,cAAc1E,SAAS,GAC3C,GAAuB,qBAAZyE,EAAX,CAMA,GALAA,EAAQhR,MAAM0G,OAAS,EACvB6J,EAAMvQ,MAAM0G,OAAS,GAGT1E,KAAKiN,iBACN,CAEP,GADejN,KAAKkN,mBAAmBN,GAEnC,OAEA5M,KAAKmN,gBAQb,GAFY0B,EAAY9Q,qBAAqB,SAEnCjG,OAAS,EAAG,CAClB,IAAIoX,EAAuBX,EAAMhE,SAAS,GAAGA,SAAS,GAAGA,SAAS,GAAGA,SAAS,GAC1E4E,EAAaD,EAAqB3E,SAAS,GAC3CiB,EAAkBxL,KAAKoN,uBAC3B8B,EAAqB5B,aAAa9B,EAAiB2D,GACnD,IAAI5B,EAAwBvN,KAAKwN,WAAWZ,GAC5CpB,EAAgBrN,YAAYoP,QAEjCxE,KAAKvF,QAEL,GAAInN,OAAO0C,SAASI,KAAKC,SAAS,aAAc,CACnD,IAAIoK,EAAI,IAAI0H,EACZ2B,EAAUjN,KAAK4D,GAEfA,EAAEsJ,UAAa,WACX,IAAIF,EAAW5M,KAAKoL,YAEhBX,EAAMvR,SAAS6S,eAAe,QAAQhO,qBAAqB,QAAQ,GAAGiP,WAAWA,WAAWA,WAAWA,WAAWA,WAAWzC,SAAS,GAC1I,GAAoB,qBAARE,GAAiC,OAARA,EAArC,CAGA,GADYzK,KAAKiN,iBACN,CAEP,GADejN,KAAKkN,mBAAmBN,GAEnC,OAEA5M,KAAKmN,gBAMb,IAAI3B,EAAkBxL,KAAKoN,uBAC3B5B,EAAgBxN,MAAMoR,OAAS,UAC/B5D,EAAgBxN,MAAMiH,QAAU,WAChCuG,EAAgBxN,MAAMqR,cAAgB,SACtC5E,EAAItM,YAAYqN,GAChB,IAAI+B,EAAwBvN,KAAKwN,WAAWZ,GAC5CpB,EAAgBrN,YAAYoP,KAE7BxE,KAAKvF,QAGL,GAAInN,OAAO0C,SAASI,KAAKC,SAAS,eAAgB,CACrDhD,EAAIc,MAAM,oBACV,IAAIsM,EAAI,IAAI0H,EACZ2B,EAAUjN,KAAK4D,GAEfA,EAAEsJ,UAAa,WACf1W,EAAIc,MAAM,yBAEN,IAAI0V,EAAW5M,KAAKoL,YAEpB,GADYpL,KAAKiN,iBACN,CAEP,GADejN,KAAKkN,mBAAmBN,GAEnC,OAEA5M,KAAKmN,gBAOb,IAAIxR,EAAM,IAAIC,IAAIgR,GACd0C,EAAI3T,EAAI4T,aAAavT,IAAI,KAClBL,EAAI4T,aAAavT,IAAI,QAEhC,GAAMsT,EACN,CAmBI,IAAIE,EAAUtW,SAAS6S,eAAe,iBAAiBxB,SAAS,GAAGA,SAAS,GAAGA,SAAS,GACpFkF,EAAaD,EAAQjF,SAAS,GAC9BiB,EAAkBxL,KAAKoN,uBAC3B5B,EAAgBxN,MAAMqP,SAAW,SACjCmC,EAAQlC,aAAa9B,EAAiBiE,GACtC,IAAIlC,EAAwBvN,KAAKwN,WAAWZ,GAC5CW,EAAsBvP,MAAMqP,SAAW,SACvC7B,EAAgBrN,YAAYoP,KAEjCxE,KAAKvF,GAQV,GALApN,EAAIc,MAAM,sBAAuBb,OAAOqZ,cAKnCrZ,OAAOqZ,YAAa,CACzBtZ,EAAIc,MAAM,WAERb,OAAOiK,iBAAiB,aAAa,SAACqP,GAClCjX,QAAQtC,IAAI,eAAiBuZ,EAAKhU,KADS,UAEtBkR,GAFsB,IAE3C,2BAAgC,SACnBzB,YAAcuE,EAAKhU,KAHW,8BAK3CjD,QAAQtC,IAAI,gCAAkCyW,EAAU/U,WAExDY,QAAQtC,IAAI,WAAaC,OAAO0C,SAASI,MAVtB,UAWE0T,GAXF,IAWnB,2BAAgC,SACnBzB,YAAc/U,OAAO0C,SAASI,MAZxB,8BAcnB8Q,aAAY,WAAM,UACO4C,GADP,IACd,2BAAgC,SACnBC,YACTpU,QAAQtC,IAAI,eAHF,iCAKf,MAuFT,SAAwByH,GACtB,IAAIC,EAAME,GACVF,EAAO5E,SAAS6E,qBAAqB,QAAQ,OAE7CC,EAAQ9E,SAAS+E,cAAc,UACzBxF,KAAO,WACbuF,EAAME,UAAYL,EAClBC,EAAKK,YAAYH,IAKnBJ,CA/FY,oiD,MAkGGgN,E","file":"static/js/main.941bc094.chunk.js","sourcesContent":["/* eslint-disable no-console */\nimport asyncMapValues from '@lskjs/utils/asyncMapValues';\nimport ready from '@lskjs/utils/polyfill';\nimport Bluebird from 'bluebird';\n\nimport * as plugins from './plugins';\nimport { injectCss, injectJs } from './utils';\n\n/* global window */\nconst { log } = window.__lskjs;\n\nready();\n\nconst jses = ['https://cdn.jsdelivr.net/npm/siiimple-toast/dist/siiimple-toast.min.js'];\nconst csses = [\n  // 'https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css',\n  'https://cdn.jsdelivr.net/npm/siiimple-toast/dist/style.css',\n];\n\nconst main = async () => {\n  try {\n    await Bluebird.map(jses, (item) => injectJs(item));\n    await Bluebird.map(csses, (item) => injectCss(item));\n  } catch (err) {\n    log.error('[loading static]', err);\n  }\n  await asyncMapValues(plugins, async (plugin, name) => {\n    try {\n      log.trace(`[${name}] starting`);\n      const res = await plugin();\n      log.trace(`[${name}] ok`, res);\n    } catch (err) {\n      log.error(`[${name}] err`, err);\n    }\n  }).catch((err) => {\n    log.error('[loading plugins]', err);\n  });\n};\n\nmain();\n","export { appannie } from './appannie';\nexport { hypeauditor } from './hypeauditor';\nexport { igram } from './igram';\nexport { loaderto } from './loaderto';\nexport { instagram } from './instagram';\nexport { modash } from './modash';\nexport { youtube } from './youtube';\nexport { toolbar } from './toolbar';\nexport { downloader } from './downloader';\n","/* global document window fetch */\n\n// @match        *://www.appannie.com/ru/apps/ios/app/*/details*\n// @match        *://www.appannie.com/ru/apps/google-play/app/*/details*\n// @match        *://www.appannie.com/ru/apps/*/app/*/details*\n// @match        *://www.appannie.com/apps/ios/app/*/details*\n// @match        *://www.appannie.com/apps/google-play/app/*/details*\n// @match        *://www.appannie.com/apps/*/app/*/details*\n\nexport function getObjectValue(path, object, defaultValue = null) {\n  if (typeof path === 'string') {\n    return getObjectValue(path.split(/\\./), object, defaultValue);\n  }\n\n  if (!Array.isArray(path) || path.length === 0) {\n    return defaultValue;\n  }\n\n  const [key] = path;\n  const slicedPath = path.slice(1);\n\n  if (!object || typeof object !== 'object' || !Object.hasOwnProperty.call(object, key)) {\n    return defaultValue;\n  }\n\n  if (slicedPath.length === 0) {\n    return object[key];\n  }\n  return getObjectValue(slicedPath, object[key], defaultValue);\n}\n\nexport function getShortMarketName(fullName) {\n  if (fullName === 'google-play') {\n    return 'gp';\n  }\n  return fullName;\n}\n\nexport function toast(text, { type = 'message' } = {}) {\n  console.log('[toast]', text);\n  if (!window.siiimpleToast) return;\n  window.siiimpleToast[type](text);\n  fetch('/i18n/activate/en/').then(() => {\n    setTimeout(() => {\n      window.location.reload();\n    }, 2000);\n  });\n}\n\nexport async function appannie() {\n  const location = document?.location?.href || '';\n  if (!location.includes('://www.appannie.com')) return { status: 'ignoreDomain' };\n  // const regexp = new RegExp('://www.appannie.com/.*apps/.+/app/.+/details');\n  // if (!regexp.test(location)) return { status: 'ignore' };\n\n  // console.log('[appannie] @');\n  const { __NEXT_DATA__ } = window;\n  const is404Page = document.body.innerText.startsWith('Oops! 404');\n  if (!is404Page && getObjectValue('props.pageProps.locale.language', __NEXT_DATA__) !== 'en-US') {\n    await toast('Язык страницы не английский, переключаем на английский');\n    return { status: 'changeLocale' };\n  }\n  const pageVal = {\n    location: window.location.href,\n  };\n  const productId = getObjectValue('props.pageProps.app.id', __NEXT_DATA__);\n  const productTitle = getObjectValue('props.pageProps.app.name', __NEXT_DATA__);\n  if (is404Page || !productId || (productTitle && productTitle === 'Unknown Product')) {\n    await fetch(`https://worker.buzz.guru/api/appannie/notFound?location=${document.location.pathname}`, {\n      method: 'POST',\n      mode: 'no-cors',\n    });\n    toast('Спаршено 404', { type: 'alert' });\n    console.log('Отрепорти эту ссылку в чатик');\n    return { status: '404' };\n  }\n\n  const fullMarketName = getObjectValue('props.pageProps.market', __NEXT_DATA__);\n\n  if (productId) {\n    pageVal.app_id = String(productId);\n  }\n\n  if (fullMarketName) {\n    pageVal.market_name = fullMarketName;\n  }\n\n  const companyId = getObjectValue('props.pageProps.company.id', __NEXT_DATA__);\n  const companyName = getObjectValue('props.pageProps.company.name', __NEXT_DATA__);\n\n  if (companyId || companyName) {\n    if (!pageVal.obj_nav) {\n      pageVal.obj_nav = {};\n    }\n    if (!pageVal.obj_nav.company) {\n      pageVal.obj_nav.company = {};\n      if (companyId) {\n        pageVal.obj_nav.company.id = String(companyId);\n      }\n      if (companyName) {\n        pageVal.obj_nav.company.name = companyName;\n      }\n    }\n  }\n\n  const shortMarketName = getShortMarketName(fullMarketName);\n  const productUniversalProductId = getObjectValue('props.pageProps.unifiedApp.id', __NEXT_DATA__);\n\n  if (productId || shortMarketName || productUniversalProductId) {\n    if (!pageVal.obj_nav) {\n      pageVal.obj_nav = {};\n    }\n    if (!pageVal.obj_nav.product) {\n      pageVal.obj_nav.product = {};\n      if (productId) {\n        pageVal.obj_nav.product.id = String(productId);\n      }\n      if (shortMarketName) {\n        pageVal.obj_nav.product.market = shortMarketName;\n      }\n      if (productUniversalProductId) {\n        pageVal.obj_nav.product.universal_product_id = String(productUniversalProductId);\n      }\n    }\n  }\n\n  const universalPoductId = getObjectValue('props.pageProps.unifiedApp.id', __NEXT_DATA__);\n  const universalPoductName = getObjectValue('props.pageProps.unifiedApp.name', __NEXT_DATA__);\n  const universalPoductIcon = getObjectValue('props.pageProps.unifiedApp.icon', __NEXT_DATA__);\n\n  if (universalPoductId || universalPoductName || universalPoductIcon) {\n    if (!pageVal.obj_nav) {\n      pageVal.obj_nav = {};\n    }\n    if (!pageVal.obj_nav.universal_product) {\n      pageVal.obj_nav.universal_product = {};\n      if (universalPoductId) {\n        pageVal.obj_nav.universal_product.id = String(universalPoductId);\n      }\n      if (universalPoductName) {\n        pageVal.obj_nav.universal_product.name = universalPoductName;\n      }\n      if (universalPoductIcon) {\n        pageVal.obj_nav.universal_product.icon = universalPoductIcon;\n      }\n    }\n  }\n\n  const publisher = getObjectValue('props.pageProps.publisher', __NEXT_DATA__);\n  if (publisher) {\n    pageVal.publisher = publisher;\n  }\n\n  const appName = getObjectValue('props.pageProps.app.name', __NEXT_DATA__);\n  const appIcon = getObjectValue('props.pageProps.app.icon', __NEXT_DATA__);\n  const _market = getObjectValue('props.pageProps.app.market', __NEXT_DATA__);\n  const status = getObjectValue('props.pageProps.app.status', __NEXT_DATA__);\n  let market;\n  if (_market === 'google-play') market = 'gp';\n  if (_market === 'apple-store') market = 'ios';\n  const storeUrl = getObjectValue('props.pageProps.app.url', __NEXT_DATA__);\n  let marketId;\n  if (market === 'ios') {\n    const [, id] = /\\/id(\\d+)/.exec(storeUrl);\n    marketId = id;\n  }\n  if (market === 'gp') {\n    const url = new URL(storeUrl);\n    const urlParams = new URLSearchParams(url.search);\n    marketId = urlParams.get('id');\n  }\n  pageVal.meta_data = {};\n  if (appName) {\n    pageVal.meta_data.name = appName;\n  }\n  if (appIcon) {\n    pageVal.meta_data.icon = appIcon;\n  }\n  if (market) {\n    pageVal.meta_data.market = market;\n  }\n  if (marketId) {\n    pageVal.meta_data.marketId = marketId;\n  }\n  if (typeof status === 'number') {\n    pageVal.meta_data.status = status;\n  }\n  try {\n    const res =\n      (await fetch('https://worker.buzz.guru/api/appannie/updateOne', {\n        method: 'post',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(pageVal),\n      })) || {};\n    console.log({ status: res.status, statusText: res.statusText });\n    window.siiimpleToast.success('Приложение спаршено');\n  } catch (e) {\n    window.siiimpleToast.alert('Произошла ошибка при запросе к воркеру');\n  }\n  return { status: 'ok' };\n}\n\nexport default appannie;\n","/* eslint-disable no-param-reassign */\n/* global document window */\n\n// @match        *://hypeauditor.com/*\n// @match        *://*.hypeauditor.com/*\n\nimport { addXMLRequestCallback } from '../utils';\n\nconst isDev = 0;\nconst host = isDev ? 'http://127.0.0.1:8000' : 'https://worker.buzz.guru';\n\nexport async function hypeauditor() {\n  const location = document?.location?.href || '';\n  if (!location.includes('hypeauditor.com')) return { status: 'ignoreDomain' };\n\n  addXMLRequestCallback(async (xhr) => {\n    const responseHeaders = {};\n    const responseHeadersArray = xhr\n      .getAllResponseHeaders()\n      .split('\\n')\n      .filter((str) => str);\n    responseHeadersArray.forEach((header) => {\n      const [key, value] = header.split(/: (.+)/);\n      responseHeaders[key] = value;\n    });\n    const payload = {\n      url: xhr.meta.url,\n      request: {\n        method: xhr.meta.method,\n        headers: xhr.requestHeaders,\n        body: xhr.meta.body,\n      },\n      response: {\n        headers: responseHeaders,\n        data: xhr.response.data,\n      },\n    };\n\n    const dataRegExp = /^\\/discovery\\/ajax\\/.*$/;\n    const isData = dataRegExp.test(payload.url);\n\n    if (!isData) return;\n\n    console.log('[R]', payload); // eslint-disable-line no-console\n\n    window.__lskjs.GM_xmlhttpRequest({\n      method: 'POST',\n      url: `${host}/api/hypeauditor/intercept`,\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      data: JSON.stringify(payload),\n    });\n  });\n  return { status: 'success' };\n}\n\nexport default hypeauditor;\n","/* global document */\n\n// I stole this from http://greasemonkey.win-start.de/patterns/add-css.html\nexport function addGlobalStyle(css) {\n  // eslint-disable-next-line prefer-destructuring\n  const head = document.getElementsByTagName('head')[0];\n  if (!head) {\n    return;\n  }\n  const style = document.createElement('style');\n  style.type = 'text/css';\n  style.innerHTML = css;\n  head.appendChild(style);\n}\n\nexport default addGlobalStyle;\n","/* global document */\n\nexport function injectCss(href) {\n  const node = document.getElementsByTagName('head')[0];\n  const tag = document.createElement('link');\n  tag.setAttribute('rel', 'stylesheet');\n  tag.setAttribute('type', 'text/css');\n  tag.setAttribute('href', href);\n  node.appendChild(tag);\n}\n\nexport default injectCss;\n","/* eslint-disable prefer-promise-reject-errors */\n/* global document window GM_addElement */\n/* eslint-disable camelcase */\n\nconst { env, log } = window.__lskjs || {};\nconst { isDev } = env || {};\n\nfunction injectJs(src) {\n  if (isDev) log.trace('[injectJs] start', src);\n  return new Promise((resolve, reject) => {\n    try {\n      if (typeof GM_addElement !== 'undefined') {\n        GM_addElement('script', {\n          src,\n          type: 'text/javascript',\n        });\n      } else {\n        const script = document.createElement('script');\n        script.src = src;\n        script.onload = resolve;\n        script.error = (...args) => {\n          log.error('[injectJs] err', args[0]);\n          return reject(...args);\n        };\n        document.body.appendChild(script);\n      }\n      resolve();\n    } catch (error) {\n      reject(error);\n    }\n    if (isDev) log.trace('[injectJs] success', src);\n  });\n}\n\nexport { injectJs };\n\nexport default injectJs;\n","/* global window */\n\nexport function openTab(href, { timeout = 60000 } = {}) {\n  return new Promise((resolve) => {\n    const tab = window.open(href, '_blank');\n    setTimeout(() => {\n      tab.close();\n      resolve();\n    }, timeout);\n  });\n}\n\nexport default openTab;\n","/* global XMLHttpRequest */\n\nexport function addXMLRequestCallback(callback) {\n  let oldSend;\n  let oldSetRequestHeader;\n  let oldOpen;\n  let i;\n  if (XMLHttpRequest.callbacks) {\n    XMLHttpRequest.callbacks.push(callback);\n  } else {\n    XMLHttpRequest.callbacks = [callback];\n    oldSend = XMLHttpRequest.prototype.send;\n    oldSetRequestHeader = XMLHttpRequest.prototype.setRequestHeader;\n    oldOpen = XMLHttpRequest.prototype.open;\n    XMLHttpRequest.prototype.send = function (body) {\n      this.meta.body = body;\n      oldSend.apply(this, arguments); // eslint-disable-line prefer-rest-params\n    };\n    XMLHttpRequest.prototype.open = function (method, url, async, user, password) {\n      this.meta = {\n        method,\n        url,\n        async,\n        user,\n        password,\n      };\n      this.addEventListener('load', function () {\n        for (i = 0; i < XMLHttpRequest.callbacks.length; i += 1) {\n          // eslint-disable-line no-plusplus\n          XMLHttpRequest.callbacks[i](this);\n        }\n      });\n      oldOpen.apply(this, arguments); // eslint-disable-line prefer-rest-params\n    };\n    XMLHttpRequest.prototype.setRequestHeader = function (key, value) {\n      if (!this.requestHeaders) {\n        this.requestHeaders = {};\n      }\n      this.requestHeaders[key] = value;\n      oldSetRequestHeader.apply(this, arguments); // eslint-disable-line prefer-rest-params\n    };\n  }\n}\n\nexport default addXMLRequestCallback;\n","/* global document window */\n\n// @match        *://igram.io/*\n\nimport { addGlobalStyle } from '../utils';\n\nexport async function igram() {\n  const location = document?.location?.href || '';\n  if (!location.includes('igram.io')) return { status: 'ignoreDomain' };\n\n  let spam = '.fc-consent-root, header, footer, .py-10, form + div, form + div + div, form + div + div + div, ins';\n  if (!location.includes('/dl/')) {\n    spam += ', main';\n  }\n\n  addGlobalStyle(`\n${spam} {\n  display: none !important;\n}\n  `);\n\n  return { status: 'success' };\n}\n\nexport default igram;\n","/* global document window */\n\n// @match        *://igram.io/*\n\nimport { addGlobalStyle } from '../utils';\n\nexport async function loaderto() {\n  const location = document?.location?.href || '';\n  if (!location.includes('loader.to')) return { status: 'ignoreDomain' };\n\n  const spam = 'nav, .center > *,  footer, iframe, small a';\n\n  addGlobalStyle(`\n${spam} {\n  display: none !important;\n}\n.center > .input-group, .center > .input-group + div , .center > #ds{\n  display: block !important;\n}\n  `);\n\n  return { status: 'success' };\n}\n\nexport default loaderto;\n","/* eslint-disable no-param-reassign */\n/* global document window */\n\n// @match        *://instagram.com/*\n// @match        *://*.instagram.com/*\n\nimport { addXMLRequestCallback } from '../utils';\n\nconst isDev = 0;\nconst host = isDev ? 'http://127.0.0.1:8000' : 'https://worker.buzz.guru';\nconst interceptEndpoint = `${host}/api/instagram/intercept`;\nconst reqBody = {\n  method: 'POST',\n  url: interceptEndpoint,\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n};\n\nfunction sharedDataGetter() {\n  if (\n    window._sharedData &&\n    window._sharedData.entry_data &&\n    window._sharedData.entry_data.ProfilePage &&\n    Array.isArray(window._sharedData.entry_data.ProfilePage) &&\n    window._sharedData.entry_data.ProfilePage.length\n  ) {\n    const profilePage = window._sharedData.entry_data.ProfilePage[0];\n    if (profilePage.graphql && profilePage.graphql.user) {\n      const { user } = profilePage.graphql;\n      const payload = {\n        url: `/${user.username}/?__a=1`,\n        request: {\n          method: 'GET',\n        },\n        response: {\n          text: JSON.stringify(profilePage),\n        },\n      };\n      window.__lskjs.GM_xmlhttpRequest({\n        ...reqBody,\n        data: JSON.stringify(payload),\n      });\n    }\n  }\n}\n\nexport async function instagram() {\n  const location = document?.location?.href || '';\n  if (!location.includes('://www.instagram.com')) return { status: 'ignoreDomain' };\n\n  sharedDataGetter();\n\n  addXMLRequestCallback(async (xhr) => {\n    const responseHeaders = {};\n    const responseHeadersArray = xhr\n      .getAllResponseHeaders()\n      .split('\\n')\n      .filter((str) => str);\n    responseHeadersArray.forEach((header) => {\n      const [key, value] = header.split(/: (.+)/);\n      responseHeaders[key] = value;\n    });\n    const payload = {\n      url: xhr.meta.url,\n      request: {\n        method: xhr.meta.method,\n        headers: xhr.requestHeaders,\n        body: xhr.meta.body,\n      },\n      response: {\n        headers: responseHeaders,\n        text: xhr.responseText,\n      },\n    };\n\n    console.log('[R]', payload); // eslint-disable-line no-console\n    window.__lskjs.GM_xmlhttpRequest({\n      ...reqBody,\n      data: JSON.stringify(payload),\n    });\n  });\n  return { status: 'success' };\n}\n\nexport default instagram;\n","/* eslint-disable no-param-reassign */\n/* global document window */\n\n// @match        *://modash.io/*\n// @match        *://*.modash.io/*\n\nimport { addXMLRequestCallback } from '../utils';\n\nconst isDev = 0;\nconst host = isDev ? 'http://127.0.0.1:8000' : 'https://worker.buzz.guru';\n\nfunction getType(url) {\n  const webOverviewRegexp = /^.*\\/api\\/discovery\\/show-profile.*$/;\n  const webFullRegexp = /^.*\\/api\\/discovery\\/report.*$/;\n  const isWebOverview = webOverviewRegexp.test(url);\n  const isWebFull = webFullRegexp.test(url);\n\n  let type = '';\n  if (isWebOverview) type = 'web_overview';\n  if (isWebFull) type = 'web_full';\n  return type;\n}\n\nfunction getRoute(profile) {\n  const { profileType } = profile;\n\n  let platform = '/';\n  if (profileType === 'YOUTUBE') platform = 'youtube';\n  if (profileType === 'INSTAGRAM') platform = 'instagram';\n  if (profileType === 'TIKTOK') platform = 'tiktok';\n\n  // return `modash/channel_events/${platform}/`;\n  return `${platform}_channel_modash_events/`;\n}\n\nexport async function modash() {\n  const location = document?.location?.href || '';\n  if (!location.includes('marketer.modash.io')) return { status: 'ignoreDomain' };\n\n  addXMLRequestCallback(async (xhr) => {\n    const responseHeaders = {};\n    const responseHeadersArray = xhr\n      .getAllResponseHeaders()\n      .split('\\n')\n      .filter((str) => str);\n    responseHeadersArray.forEach((header) => {\n      const [key, value] = header.split(/: (.+)/);\n      responseHeaders[key] = value;\n    });\n    const payload = {\n      url: xhr.meta.url,\n      request: {\n        method: xhr.meta.method,\n        headers: xhr.requestHeaders,\n        body: xhr.meta.body,\n      },\n      response: {\n        headers: responseHeaders,\n        text: xhr.responseText,\n      },\n    };\n\n    const type = getType(payload.url);\n    if (!type) return;\n\n    const { error, profile } = JSON.parse(payload.response.text) || {};\n    if (error || !profile) return;\n\n    const route = getRoute(profile);\n    if (!route) return;\n\n    console.log('[R]', payload); // eslint-disable-line no-console\n\n    window.__lskjs.GM_xmlhttpRequest({\n      method: 'POST',\n      url: `${host}/api/${route}`,\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      data: JSON.stringify({ type, data: profile.profileData }),\n    });\n  });\n  return { status: 'success' };\n}\n\nexport default modash;\n","/* global document window navigator  */\n\n// @match        https://www.youtube.com/*\n\nimport find from 'lodash/find';\nimport get from 'lodash/get';\nimport set from 'lodash/set';\n\n// @match        https://www.youtube.com/*\n// eslint-disable-next-line camelcase\nconst { unsafeWindow, log, GM_xmlhttpRequest } = window.__lskjs;\n\nfunction getQueryParams(url) {\n  const qparams = {};\n  const parts = (url || '').split('?');\n  let qpart;\n\n  if (parts.length <= 1) {\n    return qparams;\n  }\n  const qparts = parts[1].split('&');\n  let i = 0;\n  for (i in qparts) { // eslint-disable-line\n    qpart = qparts[i].split('=');\n    qparams[decodeURIComponent(qpart[0])] = decodeURIComponent(qpart[1] || '');\n  }\n\n  return qparams;\n}\n\nfunction humanToNubmer(text) {\n  const unshortRegex = /(\\d+\\.?\\d*)([  KMBмлнтысрд]+)/gim;\n  const factor = {\n    K: 1000,\n    M: 1000000,\n    B: 1000000000,\n    млрд: 1000000000,\n    млн: 1000000,\n    тыс: 1000,\n  };\n  const shortenArray = unshortRegex.exec(text);\n  const numberAsString = shortenArray[1];\n  const number = parseFloat(numberAsString);\n  const lastSymbol = shortenArray[2].trim();\n  if (factor) {\n    return Math.round(number * factor[lastSymbol]);\n  }\n  return number;\n}\n\nfunction median(values) {\n  if (values.length === 0) return 0;\n\n  values.sort((a, b) => a - b);\n\n  const half = Math.floor(values.length / 2);\n\n  if (values.length % 2) return values[half];\n\n  return (values[half - 1] + values[half]) / 2.0;\n}\n\nconst BROWSE_URL = 'https://www.youtube.com/youtubei/v1/browse?key=AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8';\n\nconst dateAllow = ['week', '1 month ago', '2 months ago', '3 months ago', '4 months ago'];\nconst dateDisallow = ['months', 'year'];\nlet table = [];\n\nexport async function youtube() {\n  const location = document?.location?.href || '';\n  if (!location.includes('youtube.com')) return { status: 'ignoreDomain' };\n\n  const element = document.createElement('div');\n  const status = document.createElement('div');\n  const result = document.createElement('div');\n  const resultText = document.createElement('div');\n  const resultCopy = document.createElement('button');\n  resultCopy.innerText = 'Copy table';\n  result.appendChild(resultText);\n  result.appendChild(resultCopy);\n  resultCopy.addEventListener('click', async () => {\n    const excelData = table.map((lines) => lines.join('\\t')).join('\\n');\n    navigator.clipboard.writeText(excelData);\n  });\n  element.style.zIndex = 99999;\n  element.style.position = 'fixed';\n  element.style.right = '10px';\n  element.style.bottom = '10px';\n  element.style.visibility = 'hidden';\n  status.style.background = 'white';\n  status.style.position = 'fixed';\n  status.style.bottom = '10px';\n  status.style.left = '10px';\n  status.style.padding = '10px';\n  status.style.borderRadius = '10px';\n  status.style.visibility = 'hidden';\n  result.style.background = 'white';\n  result.style.maxWidth = '50%';\n  result.style.position = 'fixed';\n  result.style.bottom = '10px';\n  result.style.left = ' 50%';\n  result.style.transform = 'translateX(-50%)';\n  result.style.padding = '10px';\n  result.style.borderRadius = '10px';\n  result.style.visibility = 'hidden';\n  const button2 = document.createElement('button');\n  const button1 = document.createElement('button');\n  const button4 = document.createElement('button');\n  button1.innerText = 'Get data for 1';\n  button2.innerText = '2';\n  button4.innerText = '4 months';\n  const onClick = async (count) => {\n    status.style.visibility = 'inherit';\n    status.innerHTML = '<div>Собираем информацию об аккаунте</div>';\n    let channelId;\n    let title;\n    let link;\n    let email;\n    let country;\n    let subscribers;\n    let links = [];\n    try {\n      let pathName = document.location.pathname;\n      // const isC = pathName === '/c';\n      // const isChannel = pathName === '/channel';\n      // const isUser = pathName === '/user';\n      const isChannelHTML = !!document.querySelector('ytd-browse[role=\"main\"] #channel-header');\n      log.trace({ /* isC, isChannel, isUser, */ isChannelHTML, pathName });\n      if (/* isC || isChannel || isUser || */ isChannelHTML) {\n        const f = document.querySelector('ytd-browse[role=\"main\"] form#form');\n        log.trace(f);\n        if (f && f.action) {\n          log.trace(f.action);\n          pathName = new URL(f.action).pathname;\n        } else {\n          status.innerHTML += '<div><strong>Проблемы с ссылкой</strong></div>';\n          throw 'нету юрл';\n        }\n      }\n      let url;\n      if (pathName.includes('/search')) {\n        url = pathName.replace(/\\/search$/, '/about');\n      } else {\n        const pathAndId = /\\/(c|channel|user)\\/([^\\/?#\\s()]+)/.exec(decodeURIComponent(pathName));\n        url = `/${pathAndId[1]}/${pathAndId[2]}/about`;\n      }\n      log.trace({ url }, 111);\n      const channelResponse = await unsafeWindow\n        .fetch(url)\n        .then((res) => res.text())\n        .catch((err) => {\n          log.error({ err });\n          throw err;\n        });\n      log.trace({ channelResponse });\n      const [, json2] = channelResponse.match(/var ytInitialData\\s*=\\s*(.*);\\s*<\\/script>/) || [];\n      const ytInitialResponse = JSON.parse(json2);\n      const metadata = ytInitialResponse.metadata.channelMetadataRenderer;\n      channelId = metadata.externalId;\n      try {\n        GM_xmlhttpRequest({\n          // eslint-disable-line no-undef\n          method: 'GET',\n          url: `https://worker.buzz.guru/api/channel_page?providerId=${channelId}`,\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n          },\n        });\n      } catch (e) {\n        log.trace(e);\n      }\n      title = metadata.title;\n      link = `${metadata.channelUrl}/videos`;\n      const description = metadata.description || '';\n      const emailInDescription = /(\\S+@\\S+\\.\\S+)/.exec(description);\n      if (emailInDescription) {\n        email = emailInDescription[0];\n      }\n      const tabs = get(ytInitialResponse, 'contents.twoColumnBrowseResultsRenderer.tabs', []);\n      const aboutTab = find(tabs, (tab) => get(tab, 'tabRenderer.selected', false));\n      country = get(\n        aboutTab,\n        'tabRenderer.content.sectionListRenderer.contents[0].itemSectionRenderer.contents[0].channelAboutFullMetadataRenderer.country.simpleText',\n        null,\n      );\n      const rawLinks = get(\n        aboutTab,\n        'tabRenderer.content.sectionListRenderer.contents[0].itemSectionRenderer.contents[0].channelAboutFullMetadataRenderer.primaryLinks',\n        [],\n      );\n      links = rawLinks.map((link) => {\n        const originalUrl = get(link, 'navigationEndpoint.urlEndpoint.url');\n\n        if (originalUrl.includes('http') && !originalUrl.includes('https://www.youtube.com/redirect')) {\n          return originalUrl;\n        }\n        const { q } = getQueryParams(originalUrl);\n\n        if (!q) {\n          return originalUrl;\n        }\n        return q;\n      });\n      const subscribersText = get(\n        ytInitialResponse,\n        'header.c4TabbedHeaderRenderer.subscriberCountText.simpleText',\n        '',\n      ).replace(',', '.');\n      if (subscribersText) {\n        subscribers = humanToNubmer(subscribersText);\n      }\n    } catch (e) {\n      console.err(e);\n      status.innerHTML += '<div><strong>Произошла ошибка</strong></div>';\n      return false;\n    }\n    try {\n      const strIC = JSON.stringify(unsafeWindow.ytcfg.get('INNERTUBE_CONTEXT'));\n      const INNERTUBE_CONTEXT = JSON.parse(strIC);\n      set(INNERTUBE_CONTEXT, 'client.hl', 'en');\n      let continuationToken;\n      const videosViews = [];\n      status.innerHTML += `<div>Собираем информацию о видео за ${count} месяца</div>`;\n      do {\n        const bodyParams = {\n          context: INNERTUBE_CONTEXT,\n        };\n        if (continuationToken) {\n          bodyParams.continuation = continuationToken;\n        } else {\n          bodyParams.browseId = channelId;\n          bodyParams.params = 'EgZ2aWRlb3M%3D';\n        }\n        log.trace(bodyParams);\n        const res = await fetch(BROWSE_URL, {\n          method: 'POST',\n          mode: 'same-origin',\n          headers: {\n            'content-type': 'application/json',\n            'x-goog-authuser': 0,\n            'x-goog-pageid': unsafeWindow.ytcfg.get('DELEGATED_SESSION_ID'),\n            'x-goog-visitor-id': unsafeWindow.ytcfg.get('VISITOR_DATA'),\n            'x-origin': 'https://www.youtube.com',\n            'x-youtube-client-name': unsafeWindow.ytcfg.get('INNERTUBE_CONTEXT_CLIENT_NAME'),\n            'x-youtube-client-version': unsafeWindow.ytcfg.get('INNERTUBE_CONTEXT_CLIENT_VERSION'),\n          },\n          body: JSON.stringify(bodyParams),\n        }).then((res) => res.json());\n        let items = [];\n        const tabs = get(res, 'contents.twoColumnBrowseResultsRenderer.tabs');\n        if (tabs) {\n          const videoTab = find(tabs, (tab) => get(tab, 'tabRenderer.selected', false));\n          items = get(\n            videoTab,\n            'tabRenderer.content.sectionListRenderer.contents[0].itemSectionRenderer.contents[0].gridRenderer.items',\n          );\n        } else {\n          items = get(res, 'onResponseReceivedActions[0].appendContinuationItemsAction.continuationItems');\n        }\n        let stop = false;\n        items.forEach((item) => {\n          continuationToken = get(\n            item,\n            'continuationItemRenderer.continuationEndpoint.continuationCommand.token',\n            null,\n          );\n          if (continuationToken) return;\n          const publishedText = get(item, 'gridVideoRenderer.publishedTimeText.simpleText');\n          if (publishedText) {\n            const viewCountText = get(item, 'gridVideoRenderer.viewCountText.simpleText');\n            if (!viewCountText) throw '!viewCountText';\n            const dAllow = [...dateAllow];\n            if (count === 1) {\n              dAllow.splice(-3);\n            }\n            if (count === 2) {\n              dAllow.splice(-2);\n            }\n            if (\n              !dAllow.some((it) => publishedText.includes(it)) &&\n              dateDisallow.some((it) => publishedText.includes(it))\n            ) {\n              stop = true;\n            }\n            if (dAllow.some((it) => publishedText.includes(it))) {\n              videosViews.push(Number(viewCountText.replace(/\\D+/g, '')));\n            }\n          }\n        });\n        if (stop) break;\n      } while (continuationToken);\n      const avgViews = Math.round(Math.round(median(videosViews)) / 100) * 100 || '';\n      status.innerHTML += '<div><strong>Собрано</strong></div>';\n      table = [[title, link, email || '', `\"${links.join('\\n')}\"`, country || '', '', '', subscribers || '', avgViews]];\n      resultText.innerHTML = `<strong>USERNAME</strong>: <div>${title}</div>\n          <strong>LINK</strong>: <div>${link}</div>\n          <strong>EMAIL</strong>: <div>${email || ''}</div>\n          <strong>OTHER CONTACT</strong>: <div>${links.join(', ')}</div>\n          <strong>COUNTRY</strong>: <div>${country || ''}</div>\n          <strong>LANGUAGE</strong>: <div></div>\n          <strong>CONTENT</strong>: <div></div>\n          <strong>SUBSCRIBERS</strong>: <div>${subscribers || ''}</div>\n          <strong>AV.VIEWS</strong>: <div>${avgViews}</div>`;\n      result.style.visibility = 'inherit';\n      log.trace(table, {\n        title,\n        link,\n        email,\n        country,\n        links,\n        subscribers,\n        avgViews,\n      });\n    } catch (e) {\n      console.err(e);\n      status.innerHTML += '<div><strong>Произошла ошибка</strong></div>';\n    }\n  };\n  button1.addEventListener('click', onClick.bind(this, 1));\n  button2.addEventListener('click', onClick.bind(this, 2));\n  button4.addEventListener('click', onClick.bind(this, 4));\n  element.appendChild(button1);\n  element.appendChild(button2);\n  element.appendChild(button4);\n  element.appendChild(status);\n  element.appendChild(result);\n  document.addEventListener('yt-navigate-finish', (e) => {\n    const pathName = document.location.pathname;\n    const isC = pathName === '/c';\n    const isChannel = pathName === '/channel';\n    const isUser = pathName === '/user';\n    const containsC = pathName.startsWith('/c/');\n    const containsChannel = pathName.startsWith('/channel/');\n    const containsUser = pathName.startsWith('/user/');\n    const isChannelHTML = !!document.querySelector('ytd-browse[role=\"main\"] #channel-header');\n    if (isC || isChannel || isUser || containsC || containsChannel || containsUser || isChannelHTML) {\n      log.trace({ isChannelHTML });\n      element.style.visibility = 'visible';\n      status.style.visibility = 'hidden';\n      result.style.visibility = 'hidden';\n    } else {\n      element.style.visibility = 'hidden';\n    }\n  });\n  window.onload = () => {\n    document.body.appendChild(element);\n  };\n}\n\nexport default youtube;\n","/* global document */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { ToolbarApp } from './ToolbarApp';\n\nexport const toolbar = async () => {\n  const node = document.createElement('div');\n  ReactDOM.render(React.createElement(ToolbarApp), node);\n  document.body.appendChild(node);\n};\n\nexport default toolbar;\n","import Button from '@lskjs/button';\nimport { Col, Container, Row } from '@lskjs/grid';\nimport React from 'react';\n\nexport class Timer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { seconds: 0 };\n  }\n\n  tick() {\n    this.setState((state) => ({\n      seconds: state.seconds + 1,\n    }));\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => this.tick(), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    return <div>Seconds: {this.state.seconds}</div>;\n  }\n}\n\nconst style = {\n  position: 'fixed',\n  zIndex: 99999,\n  bottom: 0,\n  left: 0,\n  background: 'gray',\n  color: 'white',\n  width: '100%',\n};\n\nexport const ToolbarApp = ({ children }) => (\n  <div style={style}>\n    <Container>\n      <Row>\n        <Col md={6}>\n          <Timer />\n        </Col>\n        <Col md={3}>\n          <img src=\"https://buzzguru.github.io/userscript/logo.png\" />\n        </Col>\n      </Row>\n    </Container>\n  </div>\n);\n\nexport default ToolbarApp;\n","export * from './addGlobalStyle';\nexport * from './injectCss';\nexport * from './injectJs';\nexport * from './openTab';\nexport * from './addXMLRequestCallback';\n","// https://loader.to/api/loader.user.js\n// TODO: add https://igram.io/en/dl/\n\n/* global window */\nconst { log } = window.__lskjs;\n\nexport function downloader() {\n  // ==UserScript==\n// @name         Loader.to Helper\n// @namespace    https://loader.to/\n// @version      1.0\n// @description  The Loader.to Downloader Extension will help you to download videos from YouTube, Twitter, Pinterest, Soundcloud & Twitch! Every Download is just one click away!\n// @author       Loader Team\n// @match        https://*.youtube.com/*\n// @match        https://*.twitter.com/*\n// @match        https://*.soundcloud.com/*\n// @match        https://*.imdb.com/*\n// @include      /https?:\\/\\/(?:[^\\/]+\\.)?pinterest\\.(?:com|fr|de|ch|jp|cl|ca|it|co\\.uk|nz|ru|com\\.au|at|pt|co\\.kr|es|com\\.mx|dk|ph|th|com\\.uy|co|nl|info|kr|ie|vn|com\\.vn|ec|mx|in|pe|co\\.at|hu|co\\.in|co\\.nz|id|com\\.ec|com\\.py|tw|be|uk|com\\.bo|com\\.pe)/\n// @match        https://*.tiktok.com/*\n// @match        https://*.twitch.tv/*\n// @match        https://*.vimeo.com/*\n// @match        https://*.reddit.com/*\n// @icon         data:image/png;base64,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\n// @grant        window.onurlchange\n// ==/UserScript==\n\nlet BUTTON_TEXT = {\n  'ar': 'تنزيل',\n  'cs': 'Stáhnout',\n  'de': 'Herunterladen',\n  'en': 'Download As',\n  'es': 'Descargar',\n  'fr': 'Télécharger',\n  'hi': 'डाउनलोड',\n  'hu': 'Letöltés',\n  'id': 'Unduh',\n  'it': 'Scarica',\n  'ja': 'ダウンロード',\n  'ko': '내려받기',\n  'pl': 'Pobierz',\n  'pt': 'Baixar',\n  'ro': 'Descărcați',\n  'ru-RU': 'Скачать',\n  'tr': 'İndir',\n  'zh': '下载',\n  'zh-TW': '下載'\n};\nlet BUTTON_TOOLTIP = {\n  'ar': 'تنزيل هذا الفيديو',\n  'cs': 'Stáhnout toto video',\n  'de': 'Dieses Video herunterladen',\n  'en': 'Download this video',\n  'es': 'Descargar este vídeo',\n  'fr': 'Télécharger cette vidéo',\n  'hi': 'वीडियो डाउनलोड करें',\n  'hu': 'Videó letöltése',\n  'id': 'Unduh video ini',\n  'it': 'Scarica questo video',\n  'ja': 'このビデオをダウンロードする',\n  'ko': '이 비디오를 내려받기',\n  'pl': 'Pobierz plik wideo',\n  'pt': 'Baixar este vídeo',\n  'ro': 'Descărcați acest videoclip',\n  'ru-RU': 'Скачать это видео',\n  'tr': 'Bu videoyu indir',\n  'zh': '下载此视频',\n  'zh-TW': '下載此影片'\n};\n\nvar language = document.documentElement.getAttribute('lang');\n\n\nclass LoaderButton {\n  //family_name = \"\";\n  //lastAddress = \"\";\n  constructor(family_name = \"\") {\n      this.family_name = family_name;\n      this.lastAddress = \"\";\n  }\n  BigBlueButtonCreator(up = false) {\n\n      let buttonText = (BUTTON_TEXT[language]) ? BUTTON_TEXT[language] : BUTTON_TEXT['en'];\n      let buttonLabel = (BUTTON_TOOLTIP[language]) ? BUTTON_TOOLTIP[language] : BUTTON_TOOLTIP['en'];\n\n      let download_button = document.createElement(\"button\");\n      download_button.setAttribute(\"id\", \"eytd_btn\" + this.family_name);\n      download_button.classList.add(\"eytd_btn\");\n      if (up) download_button.textContent = \" \" + buttonText + \": ▲ \";\n      else download_button.textContent = \" \" + buttonText + \": ▼ \";\n\n      download_button.setAttribute(\"data-tooltip-text\", buttonLabel);\n\n      let _id = \"eytd_list\" + this.family_name;\n      download_button.addEventListener(\"click\", function (ev) {\n          let list = document.getElementById(_id);\n          if (list.style.display == \"none\") {\n              list.style.display = \"block\";\n          } else {\n              list.style.display = \"none\";\n          }\n      })\n      return download_button;\n  }\n  createList(url) {\n\n\n      let listDom = document.createElement(\"div\");\n      listDom.setAttribute(\"id\", \"eytd_list\" + this.family_name);\n      listDom.setAttribute(\"style\", \"display: none;\");\n\n      let downloadText = (BUTTON_TEXT[language]) ? BUTTON_TEXT[language] : BUTTON_TEXT['en'];\n\n      let div = document.createElement(\"div\");\n      div.className = \"eytd_list_item\";\n      let a = document.createElement(\"a\");\n      a.href = \"https://loader.to/?link=\" + url + \"&f=1&s=1&e=1&r=loader\";\n      a.text = downloadText + \" MP3\";\n      a.target = \"_blank\";\n      div.appendChild(a);\n      listDom.appendChild(div);\n\n      div = document.createElement(\"div\");\n      div.className = \"eytd_list_item\";\n      a = document.createElement(\"a\");\n      a.href = \"https://loader.to/?link=\" + url + \"&f=2&s=1&e=1&r=loader\";\n      a.text = downloadText + \" M4A\";\n      a.target = \"_blank\";\n      div.appendChild(a);\n      listDom.appendChild(div);\n\n      div = document.createElement(\"div\");\n      div.className = \"eytd_list_item\";\n      a = document.createElement(\"a\");\n      a.href = \"https://loader.to/?link=\" + url + \"&f=3&s=1&e=1&r=loader\";\n      a.text = downloadText + \" WEBM (Audio)\";\n      a.target = \"_blank\";\n      div.appendChild(a);\n      listDom.appendChild(div);\n\n      div = document.createElement(\"div\");\n      div.className = \"eytd_list_item\";\n      a = document.createElement(\"a\");\n      a.href = \"https://loader.to/?link=\" + url + \"&f=11&s=1&e=1&r=loader\";\n      a.text = downloadText + \" AAC\";\n      a.target = \"_blank\";\n      div.appendChild(a);\n      listDom.appendChild(div);\n\n      div = document.createElement(\"div\");\n      div.className = \"eytd_list_item\";\n      a = document.createElement(\"a\");\n      a.href = \"https://loader.to/?link=\" + url + \"&f=12&s=1&e=1&r=loader\";\n      a.text = downloadText + \" FLAC\";\n      a.target = \"_blank\";\n      div.appendChild(a);\n      listDom.appendChild(div);\n\n      div = document.createElement(\"div\");\n      div.className = \"eytd_list_item\";\n      a = document.createElement(\"a\");\n      a.href = \"https://loader.to/?link=\" + url + \"&f=13&s=1&e=1&r=loader\";\n      a.text = downloadText + \" OPUS\";\n      a.target = \"_blank\";\n      div.appendChild(a);\n      listDom.appendChild(div);\n\n      div = document.createElement(\"div\");\n      div.className = \"eytd_list_item\";\n      a = document.createElement(\"a\");\n      a.href = \"https://loader.to/?link=\" + url + \"&f=14&s=1&e=1&r=loader\";\n      a.text = downloadText + \" OGG\";\n      a.target = \"_blank\";\n      div.appendChild(a);\n      listDom.appendChild(div);\n\n      div = document.createElement(\"div\");\n      div.className = \"eytd_list_item\";\n      a = document.createElement(\"a\");\n      a.href = \"https://loader.to/?link=\" + url + \"&f=15&s=1&e=1&r=loader\";\n      a.text = downloadText + \" WAV\";\n      a.target = \"_blank\";\n      div.appendChild(a);\n      listDom.appendChild(div);\n\n      div = document.createElement(\"div\");\n      div.className = \"eytd_list_item\";\n      a = document.createElement(\"a\");\n      a.href = \"https://loader.to/?link=\" + url + \"&f=4&s=1&e=1&r=loader\";\n      a.text = downloadText + \" MP4 (360p)\";\n      a.target = \"_blank\";\n      div.appendChild(a);\n      listDom.appendChild(div);\n\n      div = document.createElement(\"div\");\n      div.className = \"eytd_list_item\";\n      a = document.createElement(\"a\");\n      a.href = \"https://loader.to/?link=\" + url + \"&f=5&s=1&e=1&r=loader\";\n      a.text = downloadText + \" MP4 (480p)\";\n      a.target = \"_blank\";\n      div.appendChild(a);\n      listDom.appendChild(div);\n\n      div = document.createElement(\"div\");\n      div.className = \"eytd_list_item\";\n      a = document.createElement(\"a\");\n      a.href = \"https://loader.to/?link=\" + url + \"&f=6&s=1&e=1&r=loader\";\n      a.text = downloadText + \" MP4 (720p)\";\n      a.target = \"_blank\";\n      div.appendChild(a);\n      listDom.appendChild(div);\n\n      div = document.createElement(\"div\");\n      div.className = \"eytd_list_item\";\n      a = document.createElement(\"a\");\n      a.href = \"https://loader.to/?link=\" + url + \"&f=7&s=1&e=1&r=loader\";\n      a.text = downloadText + \" MP4 (1080p)\";\n      a.target = \"_blank\";\n      div.appendChild(a);\n      listDom.appendChild(div);\n\n      div = document.createElement(\"div\");\n      div.className = \"eytd_list_item\";\n      a = document.createElement(\"a\");\n      a.href = \"https://loader.to/?link=\" + url + \"&f=9&s=1&e=1&r=loader\";\n      a.text = downloadText + \" WEBM (4K)\";\n      a.target = \"_blank\";\n      div.appendChild(a);\n      listDom.appendChild(div);\n\n      div = document.createElement(\"div\");\n      div.className = \"eytd_list_item\";\n      a = document.createElement(\"a\");\n      a.href = \"https://loader.to/?link=\" + url + \"&f=10&s=1&e=1&r=loader\";\n      a.text = downloadText + \" WEBM (8K)\";\n      a.target = \"_blank\";\n      div.appendChild(a);\n      listDom.appendChild(div);\n\n      let _idL = \"eytd_list\" + this.family_name;\n      let _idB = \"eytd_btn\" + this.family_name;\n      document.body.addEventListener(\"click\", function (ev) {\n\n          let t = ev.target,\n              id = t.getAttribute(\"id\"),\n              css = t.getAttribute(\"class\");\n\n          if (!(id === (_idB) || id === (_idL) || (css && css.includes(\"eytd_list_item\")))) {\n              document.getElementById(_idL).style.display = \"none\";\n          }\n      });\n\n      listDom.classList.add(\"eytd_list\");\n\n      return listDom;\n  }\n\n  CleanPrevious() {\n      let btn = document.getElementById(\"eytd_btn\" + this.family_name);\n      if (!(btn === null)) {\n          btn.remove(); // If it exist from previous video, remove it\n      }\n      let lst = document.getElementById(\"eytd_list\" + this.family_name);\n      if (!(lst === null)) {\n          lst.remove(); // If it exist from previous video, remove it\n      }\n  }\n\n  AreButtonsUpToDate(page_url) {\n      let lst = document.getElementById(\"eytd_list\" + this.family_name);\n      let href = lst.children[0].children[0].href; // href of the first <a> tag (Download MP3)\n      if (href.includes(page_url)) { // if href contains the url of the current page, (not an old one)\n          return true;\n      } else {\n          return false;\n      }\n  }\n\n  DoButtonsExist() {\n      let btn = document.getElementById(\"eytd_btn\" + this.family_name);\n      let lst = document.getElementById(\"eytd_list\" + this.family_name);\n      if ((lst === null) || (btn === null)) {\n          return false;\n      } else {\n          return true;\n      }\n  }\n\n}\n\nlet instances = [];\n\nif (window.location.href.includes(\"imdb.com\")) {\n  let b = new LoaderButton();\n  instances.push(b);\n\n  b.AddButton = (function () {\n      let page_url = this.lastAddress;\n\n      let box = document.getElementsByTagName(\"main\")[0].firstChild.firstChild.firstChild.children[1].firstChild.children[2];\n      if ((typeof box === \"undefined\") || (box === null)) return;\n\n      let Exist = this.DoButtonsExist(); // They could be the buttons of an old url. This just checks whether they exist or not.\n      if (Exist) {\n          let UpToDate = this.AreButtonsUpToDate(page_url); // Are the download links correct for the current video?\n\n          if (UpToDate) {\n              return; // If buttons exist and they have the correct DL links, then exit function.\n          } else {\n              this.CleanPrevious(); // If they exist but they have an older URL, then delete them.\n          }\n      }\n      // If function reaches here, that either means buttons have never existed on the page\n      // or they existed and they had old links, so CleanPrevious() deleted them.\n      // Either way, now our page is clean of buttons, so lets add them:\n      let download_button = this.BigBlueButtonCreator();\n      download_button.style.fontSize = \"1rem\";\n      download_button.style.padding = \"0px 8px\";\n      box.insertBefore(download_button, box.firstChild);\n      let download_options_list = this.createList(page_url);\n      download_options_list.style.fontSize = \"1rem\";\n      download_button.appendChild(download_options_list);\n\n  }).bind(b);\n}\nelse if (window.location.href.includes(\"pinterest.\")) {\n  let b = new LoaderButton();\n  instances.push(b);\n\n  b.AddButton = (function () {\n      let page_url = this.lastAddress;\n      let Exist = this.DoButtonsExist(); // They could be the buttons of an old url. This just checks whether they exist or not.\n      if (Exist) {\n          let UpToDate = this.AreButtonsUpToDate(page_url); // Are the download links correct for the current video?\n          if (UpToDate) {\n              return; // If buttons exist and they have the correct DL links, then exit function.\n          } else {\n              this.CleanPrevious(); // If they exist but they have an older URL, then delete them.\n          }\n      }\n\n      let videos = document.getElementsByTagName(\"video\");\n      if (videos.length > 0) {\n\n          let BestContainer = document.querySelector(\"div[data-test-id='UnauthBestPinCardBodyContainer']\");\n          let ActionBar = document.querySelector(\"div[data-test-id='closeupActionBar']\");\n\n          let download_button = this.BigBlueButtonCreator();\n          let download_options_list = this.createList(page_url);\n          if (!(BestContainer === null)) { // When you are not logged in\n              let Row = BestContainer.children[0].children[0];\n              let InnerRow = Row.children[0];\n\n              Row.style.display = \"flex\";\n              Row.style.flexDirection = \"row\";\n              InnerRow.style.width = \"auto\";\n              Row.insertBefore(download_button, InnerRow);\n              download_button.appendChild(download_options_list);\n          }\n          else if (!(ActionBar === null)) { // When logged in\n              let Row = ActionBar.children[0];\n              let Save = Row.children[1];\n\n              Row.insertBefore(download_button, Save);\n              download_button.appendChild(download_options_list);\n          }\n      }\n  }).bind(b);\n\n}\nelse if (window.location.href.includes(\"reddit.com\")) {\n  let b = new LoaderButton();\n  instances.push(b);\n\n  b.AddButton = (function () {\n      let page_url = this.lastAddress;\n\n      let Exist = this.DoButtonsExist(); // They could be the buttons of an old url. This just checks whether they exist or not.\n      if (Exist) {\n          let UpToDate = this.AreButtonsUpToDate(page_url); // Are the download links correct for the current video?\n          if (UpToDate) {\n              return; // If buttons exist and they have the correct DL links, then exit function.\n          } else {\n              this.CleanPrevious(); // If they exist but they have an older URL, then delete them.\n          }\n      }\n\n      let PostContent = document.querySelector(\"div[data-test-id='post-content']\");\n      if ((typeof PostContent === \"undefined\") || (PostContent === null)) return;\n      let video = PostContent.getElementsByTagName(\"video\");\n      let embedded = PostContent.getElementsByTagName(\"iframe\");\n      if ((video.length > 0) || (embedded.length > 0)) {\n          let Row = PostContent.children[2];\n          Row.style.overflow = \"visible\";\n          let download_button = this.BigBlueButtonCreator();\n          download_button.style.fontSize = \"0.7rem\";\n          Row.appendChild(download_button);\n          let download_options_list = this.createList(page_url);\n          download_options_list.style.fontSize = \"0.7rem\";\n          download_button.appendChild(download_options_list);\n      }\n  }).bind(b);\n}\nelse if (window.location.href.includes(\"soundcloud.com\")) {\n  let miniPlayerDownloader = new LoaderButton(\"_mini\");\n  instances.push(miniPlayerDownloader);\n\n  miniPlayerDownloader.AddButton = (function () {\n      let page_url = this.lastAddress;\n\n      let miniPlayerLink = document.getElementsByClassName(\"playbackSoundBadge\")[0].children[0];\n      let isMiniPlayer = !(typeof miniPlayerLink === \"undefined\") && !(miniPlayerLink === null);\n\n      if (isMiniPlayer) {\n          page_url = document.getElementsByClassName(\"playbackSoundBadge\")[0].children[0].href;\n          let Exist = this.DoButtonsExist(); // They could be the buttons of an old url. This just checks whether they exist or not.\n          if (Exist) {\n              let UpToDate = this.AreButtonsUpToDate(page_url); // Are the download links correct for the current video?\n              if (UpToDate) {\n                  return; // If buttons exist and they have the correct DL links, then exit function.\n              } else {\n                  this.CleanPrevious(); // If they exist but they have an older URL, then delete them.\n              }\n          }\n          // If function reaches here, that either means buttons have never existed on the page\n          // or they existed and they had old links, so CleanPrevious() deleted them.\n          // Either way, now our page is clean of buttons, so lets add them:\n          let download_button = this.BigBlueButtonCreator(up = true); // Makes and up arrow ▲ next to Download text (It is downward ▼ by default)\n          document.getElementsByClassName(\"playbackSoundBadge\")[0].appendChild(download_button);\n          let download_options_list = this.createList(page_url);\n          download_options_list.style.top = \"auto\";\n          download_options_list.style.bottom = \"40px\";\n          download_button.appendChild(download_options_list);\n      }\n\n  }).bind(miniPlayerDownloader);\n\n  let bigPlayerDownloader = new LoaderButton(\"_big\");\n  instances.push(bigPlayerDownloader);\n\n  bigPlayerDownloader.AddButton = (function () {\n      let page_url = this.lastAddress;\n\n      let TITLE = document.getElementsByClassName(\"fullHero__title\")[0];\n      let isBigPlayer = !(typeof TITLE === \"undefined\") && !(TITLE === null);\n\n      if (isBigPlayer) {\n          document.getElementById(\"content\").children[0].children[1].children[0].style.overflow = \"visible\"\n          let Exist = this.DoButtonsExist(); // They could be the buttons of an old url. This just checks whether they exist or not.\n          if (Exist) {\n              let UpToDate = this.AreButtonsUpToDate(page_url); // Are the download links correct for the current video?\n\n              if (UpToDate) {\n                  return; // If buttons exist and they have the correct DL links, then exit function.\n              } else {\n                  this.CleanPrevious(); // If they exist but they have an older URL, then delete them.\n              }\n          }\n          // If function reaches here, that either means buttons have never existed on the page\n          // or they existed and they had old links, so CleanPrevious() deleted them.\n          // Either way, now our page is clean of buttons, so lets add them:\n          let download_button = this.BigBlueButtonCreator();\n          TITLE.appendChild(download_button);\n          let download_options_list = this.createList(page_url);\n          download_button.appendChild(download_options_list);\n      }\n\n  }).bind(bigPlayerDownloader);\n}\nelse if (window.location.href.includes(\"tiktok.com\")) {\n\n  let b = new LoaderButton(\"_fullscreen\");\n  instances.push(b);\n\n  b.AddButton = (function () {\n      let page_url = this.lastAddress;\n\n      let Row = document.getElementsByClassName(\"video-infos-container\")[0];\n      if ((typeof Row === \"undefined\") || (Row === null)) return;\n\n      let Exist = this.DoButtonsExist(); // They could be the buttons of an old url. This just checks whether they exist or not.\n      if (Exist) {\n          let UpToDate = this.AreButtonsUpToDate(page_url); // Are the download links correct for the current video?\n          if (UpToDate) {\n              return; // If buttons exist and they have the correct DL links, then exit function.\n          } else {\n              this.CleanPrevious(); // If they exist but they have an older URL, then delete them.\n          }\n      }\n      // If function reaches here, that either means buttons have never existed on the page\n      // or they existed and they had old links, so CleanPrevious() deleted them.\n      // Either way, now our page is clean of buttons, so lets add them:\n      let download_button = this.BigBlueButtonCreator();\n\n      Row.style.overflow = \"visible\";\n      Row.insertBefore(download_button, Row.children[1])\n      let download_options_list = this.createList(page_url);\n\n      download_options_list.style.left = \"auto\";\n      download_options_list.style.right = \"0px\";\n      download_button.appendChild(download_options_list);\n\n  }).bind(b);\n\n\n  let c = new LoaderButton(\"_main\");\n  instances.push(c);\n\n  c.AddButton = (function () {\n      let page_url = this.lastAddress;\n\n\n      let Row = document.getElementsByClassName(\"tt-video-music item-music-info-V4\")[0];\n      if ((typeof Row === \"undefined\") || (Row === null)) return;\n      if (!page_url.includes(\"video\")) return;\n\n      let Exist = this.DoButtonsExist(); // They could be the buttons of an old url. This just checks whether they exist or not.\n      if (Exist) {\n          let UpToDate = this.AreButtonsUpToDate(page_url); // Are the download links correct for the current video?\n          if (UpToDate) {\n              return; // If buttons exist and they have the correct DL links, then exit function.\n          } else {\n              this.CleanPrevious(); // If they exist but they have an older URL, then delete them.\n          }\n      }\n      // If function reaches here, that either means buttons have never existed on the page\n      // or they existed and they had old links, so CleanPrevious() deleted them.\n      // Either way, now our page is clean of buttons, so lets add them:\n      let download_button = this.BigBlueButtonCreator();\n\n\n      Row.style.overflow = \"visible\";\n      Row.style.maxWidth = \"100%\";\n      Row.style.display = \"flex\";\n      Row.style.justifyContent = \"space-between\";\n      Row.style.top = \"10px\";\n      Row.appendChild(download_button);\n      let download_options_list = this.createList(page_url);\n      download_options_list.style.left = \"auto\";\n      download_options_list.style.right = \"0px\";\n      download_button.appendChild(download_options_list);\n\n  }).bind(c);\n\n\n}\nelse if (window.location.href.includes(\"twitch.tv\")) {\n  let b = new LoaderButton();\n  instances.push(b);\n\n  b.AddButton = (function () {\n      let page_url = this.lastAddress;\n      // If the twitch url is a video page, it will have the form twitch.tv/videos/1234567890\n      // By checking the existence of string \"videos\" in url, we make sure there are no\n      // download buttons in live streams.\n      if (!page_url.includes(\"videos\") && !page_url.includes(\"clip\")) {\n          this.CleanPrevious();\n          return;\n      }\n\n      let Exist = this.DoButtonsExist(); // They could be the buttons of an old url. This just checks whether they exist or not.\n      if (Exist) {\n          let UpToDate = this.AreButtonsUpToDate(page_url); // Are the download links correct for the current video?\n          if (UpToDate) {\n              return; // If buttons exist and they have the correct DL links, then exit function.\n          } else {\n              this.CleanPrevious(); // If they exist but they have an older URL, then delete them.\n          }\n      }\n\n      let RightMenu = document.querySelector(\"div[data-target='channel-header-right']\");\n      let RightMenuExists = !(typeof RightMenu === \"undefined\") && !(RightMenu === null);\n      if (!RightMenuExists) return;\n      let FollowButton = RightMenu.firstChild;\n      let FollowButtonExists = !(typeof FollowButton === \"undefined\") && !(FollowButton === null);\n      if (!FollowButtonExists) return;\n\n      let download_button = this.BigBlueButtonCreator();\n      RightMenu.appendChild(download_button);\n      let download_options_list = this.createList(page_url);\n      download_button.style.fontSize = \"1.5rem\";\n      download_button.style.fontWeight = \"550\";\n      download_button.style.padding = \"4px 8px\";\n      download_options_list.style.fontSize = \"1.5rem\";\n      download_options_list.style.left = \"auto\";\n      download_options_list.style.right = \"0px\";\n      download_button.appendChild(download_options_list);\n  }).bind(b);\n\n}\nelse if (window.location.href.includes(\"twitter.com\")) {\n  let b = new LoaderButton();\n  instances.push(b);\n\n  b.AddButton = (function () {\n      let page_url = this.lastAddress;\n      // By default, video content has a higher z-index than the title bar.\n      // When I add the DL button inside title bar, DL options list stays\n      // behind the video. In order to fix this, I select the title and\n      // its next sibling, and give title a higher z-index.\n      let arts = document.getElementsByTagName(\"article\")\n      let realContent = null;\n      for (let art of arts) {\n          console.log(art.firstChild.firstChild.firstChild)\n          if (art.firstChild.firstChild.firstChild.childElementCount == 3) {\n              realContent = art.firstChild.firstChild.firstChild;\n          }\n      }\n\n\n      if (realContent === \"null\") return;\n\n      let TITLE = realContent.children[1];\n      if (typeof TITLE === \"undefined\") return;\n      let content = TITLE.parentElement.children[2];\n      if (typeof content === \"undefined\") return;\n      content.style.zIndex = 1;\n      TITLE.style.zIndex = 10;\n\n\n      let Exist = this.DoButtonsExist(); // They could be the buttons of an old url. This just checks whether they exist or not.\n      if (Exist) {\n          let UpToDate = this.AreButtonsUpToDate(page_url); // Are the download links correct for the current video?\n          if (UpToDate) {\n              return; // If buttons exist and they have the correct DL links, then exit function.\n          } else {\n              this.CleanPrevious(); // If they exist but they have an older URL, then delete them.\n          }\n      }\n      // If function reaches here, that either means buttons have never existed on the page\n      // or they existed and they had old links, so CleanPrevious() deleted them.\n      // Either way, now our page is clean of buttons, so lets add them:\n      let video = realContent.getElementsByTagName(\"video\");\n\n      if (video.length > 0) {\n          let PARENT_OF_THREE_DOTS = TITLE.children[1].children[0].children[0].children[0];\n          let THREE_DOTS = PARENT_OF_THREE_DOTS.children[1];\n          let download_button = this.BigBlueButtonCreator();\n          PARENT_OF_THREE_DOTS.insertBefore(download_button, THREE_DOTS);\n          let download_options_list = this.createList(page_url);\n          download_button.appendChild(download_options_list);\n      }\n  }).bind(b);\n}\nelse if (window.location.href.includes(\"vimeo.com\")) {\n  let b = new LoaderButton();\n  instances.push(b);\n\n  b.AddButton = (function () {\n      let page_url = this.lastAddress;\n\n      let Row = document.getElementById(\"main\").getElementsByTagName(\"main\")[0].firstChild.firstChild.firstChild.firstChild.firstChild.children[2];\n      if ((typeof Row === \"undefined\") || (Row === null)) return;\n\n      let Exist = this.DoButtonsExist(); // They could be the buttons of an old url. This just checks whether they exist or not.\n      if (Exist) {\n          let UpToDate = this.AreButtonsUpToDate(page_url); // Are the download links correct for the current video?\n          if (UpToDate) {\n              return; // If buttons exist and they have the correct DL links, then exit function.\n          } else {\n              this.CleanPrevious(); // If they exist but they have an older URL, then delete them.\n          }\n      }\n      // If function reaches here, that either means buttons have never existed on the page\n      // or they existed and they had old links, so CleanPrevious() deleted them.\n      // Either way, now our page is clean of buttons, so lets add them:\n      let download_button = this.BigBlueButtonCreator();\n      download_button.style.margin = \"0px 3px\";\n      download_button.style.padding = \"5px 10px\";\n      download_button.style.verticalAlign = \"middle\"\n      Row.appendChild(download_button);\n      let download_options_list = this.createList(page_url);\n      download_button.appendChild(download_options_list);\n\n  }).bind(b);\n\n}\nelse if (window.location.href.includes(\"youtube.com\")) {\n  log.trace('>>>YOUTUBE START')\n  let b = new LoaderButton();\n  instances.push(b);\n\n  b.AddButton = (function () {\n  log.trace('>>>YOUTUBE  AddButton')\n\n      let page_url = this.lastAddress;\n      let Exist = this.DoButtonsExist(); // They could be the buttons of an old url. This just checks whether they exist or not.\n      if (Exist) {\n          let UpToDate = this.AreButtonsUpToDate(page_url); // Are the download links correct for the current video?\n          if (UpToDate) {\n              return; // If buttons exist and they have the correct DL links, then exit function.\n          } else {\n              this.CleanPrevious(); // If they exist but they have an older URL, then delete them.\n          }\n      }\n      // If function reaches here, that either means buttons have never existed on the page\n      // or they existed and they had old links, so CleanPrevious() deleted them.\n      // Either way, now our page is clean of buttons, so lets add them:\n\n      let url = new URL(page_url);\n      let v = url.searchParams.get(\"v\");\n      let list = url.searchParams.get(\"list\"); // Keeping this in case they want me to add the playlist download functionality.\n\n      if (!!v) //if it is a video; it must have GET parameter \"v\". So we check the existence of v.\n      {\n\n          /** READ ME TO MAKE SENSE OF THE NEXT TWO LINES\n       * TOP_ROW is the parent of two elements:\n       * First is the channel name and logo\n       * Second is the subscribe button\n       * Since we want the downlaod button to be between them next to the subscribe button, it is simple:\n       * both TOP_ROW and SUB_BUTTON have \"id\"s\n       * I can select them with their id's and simply do a\n       * toprow.insertbefore(mybutton, sub_button)\n       * and its done, right?\n       * WRONG!\n       * Thanks to youtube, they have multiple elements in the page with id \"top-row\" or \"subscribe-button\"\n       * What were they thinking, IDK\n       * In order to properly select the ones we want, I found a grandparent of TOP_ROW which happen not to share its id with another element.\n       * That is \"meta-contents\"\n       * So, I first choose it with getElementById, then go down the family tree using children[n] to get both TOP_ROW and SUB_BUTTON\n       * */\n\n          let TOP_ROW = document.getElementById(\"meta-contents\").children[0].children[0].children[0];\n          let SUB_BUTTON = TOP_ROW.children[1];\n          let download_button = this.BigBlueButtonCreator();\n          download_button.style.fontSize = \"1.5rem\";\n          TOP_ROW.insertBefore(download_button, SUB_BUTTON);\n          let download_options_list = this.createList(page_url);\n          download_options_list.style.fontSize = \"1.5rem\";\n          download_button.appendChild(download_options_list);\n      }\n  }).bind(b);\n}\n\nlog.trace('window.onurlchange ', window.onurlchange )\n// This is the main logic here:\n// If url changes, store the new one\n// After page is loaded, with 1 second interval, try adding button to the page.\n// The rest, code above and below here, are just implementation details.\nif (!window.onurlchange) {\nlog.trace('INSIDE ' )\n// feature is supporteds\n  window.addEventListener('urlchange', (info) => {\n      console.log(\"URL Change: \" + info.url);\n      for (let instance of instances) {\n          instance.lastAddress = info.url;\n      }\n      console.log(\"The number of instances are: \" + instances.length);\n  });\n      console.log(\"Loaded: \" + window.location.href);\n      for (let instance of instances) {\n          instance.lastAddress = window.location.href;\n      }\n      setInterval(() => {\n          for (let instance of instances) {\n              instance.AddButton();\n              console.log(\"ADD BUTTON\");\n          }\n      }, 1000);\n}\n\n\nlet style = `\n.eytd_list {\n  background-color: white;\n  position: absolute;\n  width: 250px;\n  box-shadow: 1px 5px 25px 1px gray;\n  padding: 5px 0;\n  display: none;\n  z-index: 55555;\n  top: 40px;\n  left: -40px;\n  font-size: 1rem;\n}\n\n.eytd_list_item {\n  height: 40px;\n  cursor: pointer;\n  display: flex;\n  -ms-flex-direction: row;\n  -webkit-flex-direction: row;\n  flex-direction: row;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  font-family: 'Roboto', 'Noto', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  font-size: inherit;\n  font-weight: 400;\n  line-height: 24px;\n  white-space: nowrap;\n  padding: 0 16px;\n  color: black;\n}\n\n\n.eytd_icon{\n  width: 25px;\n  height: 25px;\n  margin-right: 31px;\n  vertical-align: middle;\n}\n.eytd_list_item a{\n  width: 100%;\n  display: block;\n  text-decoration: none;\n  color: inherit;\n  font-weight: inherit;\n}\n.eytd_list_item a:visited{\n  color: hsl(0, 0%, 6.7%);\n  text-decoration: none;\n\n}\n\n.eytd_list_item:hover {\n  background-color: #f5f5f5;\n}\n\n.eytd_btn {\nbackground-color: #0072ec;\nborder-radius: 2px;\npadding: 10px 16px;\nmargin: auto 4px;\nwhite-space: nowrap;\nfont-size: 1rem;\nfont-weight: 500;\nletter-spacing: .007px;\n/*text-transform: uppercase;*/\n-ms-flex-direction: row;\n-webkit-flex-direction: row;\nflex-direction: row;\ndisplay: inline-block;\nposition: relative;\nbox-sizing: border-box;\nmin-width: 5.14em;\nborder: none;\ncolor: white;\ncursor: pointer;\nfont-family: \"Segoe UI\",Tahoma,Geneva,Verdana,sans-serif;\n}\n`;\n\n// I stole this from http://greasemonkey.win-start.de/patterns/add-css.html\nfunction addGlobalStyle(css) {\n  var head, style;\n  head = document.getElementsByTagName('head')[0];\n  if (!head) { return; }\n  style = document.createElement('style');\n  style.type = 'text/css';\n  style.innerHTML = css;\n  head.appendChild(style);\n}\n\n\n\naddGlobalStyle(style);\n}\n\nexport default downloader;\n"],"sourceRoot":""}